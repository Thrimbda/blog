---
"title": "Admin 使用说明（MVP）"
"summary": "本文档详细说明了 /admin 功能的使用方法，旨在实现无需自建后端即可编辑和发布网站内容。通过配置 GitHub OAuth
  授权，用户可以编辑 Markdown 文件、自动保存草稿到本地，并在发布时通过创建 PR 将内容写回 GitHub
  仓库。文档涵盖了从配置到使用的完整步骤，包括如何设置 OAuth、连接设备流、编辑内容、插入图片以及发布
  PR。核心价值在于提供了一种轻量级、无需后端支持的内容管理方案。"
"tags":
  - "admin"
  - "GitHub"
  - "Markdown"
  - "内容管理"
  - "OAuth"
  - "PR"
  - "草稿保存"
  - "静态站点"
---

# /admin 使用说明（MVP）

## 目标

在不引入自建后端的前提下：

- 编辑任意 `content/**.md`
- 草稿自动保存到本机（IndexedDB）
- 发布时把 Markdown + 图片写回 GitHub repo（默认：创建分支 + PR）

## 配置

1. 复制 `static/admin/config.example.js` 为 `static/admin/config.js`
2. 创建 GitHub OAuth App 并填入 `oauthClientId`
   - Homepage URL: `https://0xc1.space/`
   - Callback URL: `https://0xc1.space/admin/`（device flow 不用，但 GitHub 表单需要）

> `config.js` 不应包含任何 secret；这里只需要 `client_id`。
>
> 如果你希望**发布后的站点也能直接使用 `/admin/`**，请把 `static/admin/config.js` 一起提交到 repo（它不包含 secret，公开也没问题）。

## 使用

1. 打开 `/admin/`
2. 点击 “Connect (Device Flow)”
3. 按页面提示到 GitHub 输入 code 完成授权
4. 刷新文件列表，加载 `content/**.md`
5. 编辑内容（自动保存草稿到本机）
6. 插入图片（会在发布时写到 `static/images/uploads/...`）
7. 点击 “Publish (PR)” 创建 PR，合并后触发站点发布流程
