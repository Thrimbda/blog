---
"title": "Admin 使用説明（MVP）"
"summary": "このドキュメントでは、/admin 機能の使用方法について詳細に説明します。自前のバックエンドを構築することなく、ウェブサイトのコンテンツを編集・公開できるようにすることを目的としています。GitHub OAuth 認証を設定することで、ユーザーは Markdown ファイルを編集し、下書きをローカルに自動保存し、公開時に PR を作成してコンテンツを GitHub リポジトリに書き戻すことができます。ドキュメントでは、OAuth の設定方法、デバイスフローの接続、コンテンツの編集、画像の挿入、PR の公開など、設定から使用までの完全な手順を網羅しています。軽量でバックエンドを必要としないコンテンツ管理ソリューションを提供することが、本機能の核心的な価値です。"
"tags":
  - "admin"
  - "GitHub"
  - "Markdown"
  - "コンテンツ管理"
  - "OAuth"
  - "PR"
  - "下書き保存"
  - "静的サイト"
---

# /admin 使用説明（MVP）

## 目標

自前のバックエンドを導入せずに、以下のことを実現します：

- 任意の `content/**.md` ファイルを編集する
- 下書きをローカルマシン（IndexedDB）に自動保存する
- 公開時に Markdown ファイルと画像を GitHub リポジトリに書き戻す（デフォルト：ブランチ作成 + PR）

## 設定

1. `static/admin/config.example.js` を `static/admin/config.js` としてコピーします
2. GitHub OAuth アプリを作成し、`oauthClientId` を入力します
   - ホームページ URL: `https://0xc1.space/`
   - コールバック URL: `https://0xc1.space/admin/`（デバイスフローでは使用しませんが、GitHub のフォームで必要です）

> `config.js` にはシークレットを含めないでください。ここでは `client_id` のみが必要です。
>
> **公開後のサイトでも直接 `/admin/` を使用できるようにしたい場合**は、`static/admin/config.js` をリポジトリに一緒にコミットしてください（シークレットを含まないため、公開しても問題ありません）。

## 使用方法

1. `/admin/` を開きます
2. 「Connect (Device Flow)」をクリックします
3. ページの指示に従って GitHub でコードを入力し、認証を完了します
4. ファイルリストを更新し、`content/**.md` を読み込みます
5. コンテンツを編集します（下書きはローカルに自動保存されます）
6. 画像を挿入します（公開時に `static/images/uploads/...` に書き込まれます）
7. 「Publish (PR)」をクリックして PR を作成します。マージされると、サイトの公開プロセスがトリガーされます