---
"title": "2020年4月作業ログ"
"summary": "この文書は2020年4月の作業ログであり、技術プロジェクトにおける著者の日々の進捗と問題解決の過程を詳細に記録しています。中核的な作業には、速度制限コンパイルの実装と検証、カスタム速度制限スキームの議論とアルゴリズムの整理、対向車線POIバインディングの完了とテスト、および地図データ仕様（mdm spec）とプロトタイプ（proto）の同期修正が含まれます。さらに、複数のバグ修正（例：HDMAPMDK-1111、1121、1143など）、パフォーマンス最適化案の提案（例：Sectioning問題におけるedgeLifting最適化）、およびチームコラボレーションとナレッジシェアリング（例：同僚とのインターフェース議論、コードレビュー）にも言及しています。文書は日付ごとに構成され、スキーム設計、開発実装からテスト・デバッグに至る全プロセスを示し、技術的課題の解決とプロジェクト推進の重要なポイントを浮き彫りにしています。"
"tags":
  - "作業ログ"
  - "技術開発"
  - "速度制限コンパイル"
  - "カスタム速度制限"
  - "バグ修正"
  - "地図データ"
  - "月次サマリー"
  - "パフォーマンス最適化"
"date": "2020-04-01"
---

### 2020-04-13
- 業績自己評価を完了しました。
- Lane Center Aggregationの修正について。

### 2020-04-14
- [ ] 速度制限コンパイル
- [ ] カスタム速度制限

### 2020-04-15
- カスタム速度制限スキームを確定 @guangcong
  1. この問題を解決するために新しいmodule-dynamicEventを使用する。
  2. カスタム速度制限の更新を新規イベントとして発行し、horizon dataの更新をトリガーする。
  3. 例外判定とメモリ問題を考慮する必要がある。
  広聡と議論した後、広聡がいくつかの問題に遭遇。
- 暁康によるレビュー
  Javaはsolidな言語としてやはり学ぶべき点が多い。
- 速度制限コンパイル
  基本的に進捗なし。RoadCenterTileを抽出するロジックを追加。
- Sectioning問題の解決、edgeLifting最適化案の分析、最適化アルゴリズムの提案：
  与えられたtraverseヘッドとconnectivity関数に対して、走査方法を提示。
- 自己実行可能Jarの原理を調査。

### 2020-04-16
- 逸銘とカスタム速度制限のインターフェースを明確化：彼は入力されるlocation pairが必ず一意の最短routeを決定できることを保証。
  戻ってから広聡と共にカスタム速度制限生成アルゴリズムを整理。
  1. routeが与えられる。
  2. | start DiRoadOnPath::count - end DiRoadOnPath::count | ≤ 1 が既知である場合、
  最短距離となる一組の( start DiRoadOnPath, end DiRoadOnPath)を必ず求めることができる。
- 暁康に一時的に使用可能なpylon-v0.1.1コンパイラースナップショット版をリリース。
- 漢騰と階下をぶらつき、雑談。
- 梓哲、一誠とSUMO地図の使用インターフェースを明確化。
- 速度制限コンパイルは成功したが、まだ検証されていない。

### 2020-04-17
- SpeedLimitコンパイルの検証：
  OSMSerializableはあまり良くない。バインディング後のSpeedLimitにgeometryがないため。
  問題が発生する可能性あり：ランプ合流時の速度制限バインディングで問題が発生するかもしれない。
- [ ] 補間
- [ ] ハウスドルフ距離
- [ ] LcInJunctionTile

#### いくつかの思いつき
- 直接sparkに乗せる？
- OSMのContextには何が必要か

### 2020-04-18
速度制限を完了しました。

### 2020-04-20
#### カスタム速度制限
- 広聡が入力をvectorに変更し、テストを追加。
- 小さな問題として、広聡はc++ポインターの作用原理を本当には理解していない。
- [ ] おそらく[https://github.com/scalameta/scalafmt/issues/337](https://github.com/scalameta/scalafmt/issues/337)を解決してみる？
- [ ] おじさんが共有したファイルをresillo syncを通じて匿名共有可能にする。

#### RoadBorder修正
誤った仮定をしていたことが判明。rcに記録されるlcとrb情報には以下の可能性がある：
1. lcは一つしかないため、lcが少なくとも二つあると仮定できない。
2. 片側のrbが存在しない可能性があるため、rbが必ず存在すると仮定できない。

### 2020-04-21
#### RoadBorder修正
- テストケースの移行を完了。
- DuneとそのReadMeを充実させ、テストデータを直接出力できるようにした。
威宇と少し話し、将来を展望。私はコンパイルシステムに専念することに。

#### 対向車線POIバインディング
- multidigitize後のデータに対してbindingを実施。

### 2020-04-22
#### 対向車線POIバインディング
- multidigitize後のデータに対してbindingを実施。
- テストデータを構築。

### 2020-04-23
- 対向車線POIバインディングを完了し、デバッグを終了[4]。

### 2020-04-27
本日は主に以下の事項。

#### mdm protoとmdm specの同期を完了
1. 林楠と共に、mdm spec中のいくつかの誤った記述部分を修正。
2. 私と林楠だけで決定できないいくつかの未解決項目を残す。
3. 2020-04-26 の朝会で、最も面倒なLaneSplitMergeとPolylineの修正を後回しにすることを決定。
4. protoの修正を完了。
5. nexusの修正を完了。
6. mdkの修正を完了。
7. ついでにテストデータの問題も修正（データエラーが大量に報告されていた）。

#### バグ修正
430リリース間近で、バグ数が急増。

[HDMAPMDK-1111](https://jira.momenta.works/browse/HDMAPMDK-1111) 分析完了。

- [ ] テストケース自動複製スクリプト
- [ ] apple reminderへのエクスポート

### 2020-04-28
学科試験（科一）に半日を費やす。

HDMAPMDK-1130 幅に関する問題、三つの問題点：
1. specでは車線変更時に車線幅は規定されていない。
2. 交差点線が長すぎるために発生するsplit line。

HDMAPMDK-1121を再修正。

体調が非常に悪い。

### 2020-04-29
#### バグ修正
- HDMAPMDK-1143
  RoadObstacleがコンパイルされない問題。
- HDMAPMDK-1090