---
"title": "Dise√±o de edici√≥n en tiempo real y soluci√≥n backend para blog Zola"
"summary": "Este documento presenta un dise√±o para a√±adir funcionalidad de edici√≥n WYSIWYG en tiempo real a un sitio de blog est√°tico Zola existente. Primero se realiza una auditor√≠a del estado actual, confirmando la pila tecnol√≥gica del sitio (Zola + despliegue con GitHub Actions) y el lenguaje de dise√±o que debe mantenerse (variables CSS y cambio de temas basado en suCSS.css). La parte central investiga m√∫ltiples editores Markdown (recomendando especialmente Vditor) y soluciones backend sin necesidad de c√≥digo personalizado (recomendando especialmente Supabase), comparando sus ventajas, desventajas y adaptabilidad. El documento tambi√©n aclara cuestiones clave pendientes de decisi√≥n, como el significado espec√≠fico de \"edici√≥n en tiempo real\", el alcance de la edici√≥n y el flujo de publicaci√≥n. El objetivo final es dise√±ar un sistema de edici√≥n y publicaci√≥n que no requiera introducir cadenas de construcci√≥n complejas, mantenga el estilo actual del sitio y maneje de forma segura los shortcodes y Front Matter de Zola."
"tags":
  - "Zola"
  - "WYSIWYG"
  - "Editor Markdown"
  - "Supabase"
  - "Blog est√°tico"
  - "Edici√≥n en tiempo real"
  - "Vditor"
  - "Dise√±o de soluci√≥n"
"date": "2026-01-06"
---

# Blog Zola: Dise√±o de soluci√≥n para edici√≥n WYSIWYG Markdown en tiempo real + Backend Supabase/GitHub - Contexto

## Progreso de la sesi√≥n (2026-01-06)

### ‚úÖ Completado

- Auditor√≠a preliminar del estado actual: El proyecto es un sitio Zola, el tema se basa en anemone + suCSS, actualmente tiene muy poco JS y permite dependencias de CDN.

### üü° En progreso

- Producir un dise√±o detallado para revisi√≥n (selecci√≥n de editor/backend + flujo de publicaci√≥n/sincronizaci√≥n + pasos de implementaci√≥n).

### ‚ö†Ô∏è Bloqueos/Pendientes

- Significado preciso de "edici√≥n en tiempo real" (vista previa en tiempo real vs. guardado autom√°tico vs. colaboraci√≥n m√∫ltiple).
- Alcance de la edici√≥n (solo editar pocas p√°ginas/archivos individuales, o todo el contenido del sitio).
- Flujo de publicaci√≥n (solo guardar borradores vs. sincronizar con `content/` para desencadenar la construcci√≥n de Zola).

---

## Archivos clave

- `config.toml`: Configuraci√≥n del sitio y navegaci√≥n; tema predeterminado light, soporta m√∫ltiples idiomas.
- `templates/head.html`: Incluye globalmente `static/css/reset.css`, `static/css/suCSS.css`, `static/css/style.css` y `static/js/script.js`, e introduce v√≠a CDN `rxjs`, `highlight.js`, `mermaid`.
- `static/css/suCSS.css`: Tokens de dise√±o (variables CSS) y estilos de componentes base (formularios, botones, tablas, etc.); incluye variables para temas light/dark.
- `static/css/style.css`: Estilos personalizados del sitio (navegaci√≥n, pie de p√°gina, slider, estilos de shortcodes, etc.).
- `static/js/script.js`: Cambio de tema (`data-theme` + localStorage) e interacci√≥n del slider; puede reutilizarse en la p√°gina de administraci√≥n para mantener una experiencia consistente.
- `content/**`: Fuente de contenido Markdown; contiene YAML front matter (`---`) y shortcodes (ej. `{{ slideshow(...) }}`).

---

## Decisiones clave

| Decisi√≥n | Raz√≥n | Alternativa | Fecha |
|------|------|----------|------|
| Recomendaci√≥n predeterminada: "P√°gina de administraci√≥n con JS puro + almacenamiento/autenticaci√≥n Supabase", evaluando prioritariamente el editor Vditor | El proyecto actual no tiene cadena de construcci√≥n Node/React; ya existe convenci√≥n de dependencias CDN; Vditor ofrece tres modos WYSIWYG/IR/SV y su posicionamiento como "editor Markdown del lado del cliente", con el costo de integraci√≥n m√°s bajo | React + shadcn + Milkdown/TipTap; o GitHub Discussion/Issue como backend | 2026-01-06 |

---

## Resumen de la auditor√≠a del estado actual

### Pila tecnol√≥gica/Despliegue

- El sitio es Zola (`config.toml`), GitHub Actions utiliza `shalzz/zola-deploy-action` para desplegar en `gh-pages` (`.github/workflows/*.yaml`).
- El sitio es "m√≠nimo en JS": actualmente el √∫nico script global es `static/js/script.js`, el resto son CDN (`rxjs`, `highlight.js`, `mermaid`).

### Tema y lenguaje de dise√±o (debe mantenerse)

- La apariencia visual se basa en variables CSS de `suCSS.css`: `--bg/--bg-light/--text/--text-light/--accent/--accent-light/--link/--border`, etc.
- Mecanismo de cambio de tema: `document.documentElement[data-theme="light"|"dark"]`, sincronizado con `prefers-color-scheme` + localStorage (ver `static/js/script.js`).
- Estilo de componentes: botones/formularios/tablas/marcadores de lista, etc., est√°n definidos en `suCSS.css`; las nuevas UI deben priorizar la reutilizaci√≥n de estos elementos sem√°nticos y variables, en lugar de introducir nuevos sistemas de dise√±o.

### Caracter√≠sticas del contenido (afectan al editor)

- El Markdown puede contener:
  - YAML front matter (ejemplo: `content/gcores-talks.md`)
  - Shortcodes de Zola (ejemplo: `{{ slideshow(...) }}`, plantillas ubicadas en `templates/shortcodes/*`)
  - Bloques de c√≥digo resaltados, bloques de c√≥digo mermaid
- Puntos de riesgo: Si un editor WYSIWYG intenta "comprender/renderizar" los shortcodes, podr√≠a reescribirlos o eliminarlos; se necesita un editor/modo que "mantenga el texto original para sintaxis desconocida", o proporcionar un "modo de c√≥digo fuente" en el editor como respaldo.

---

## Investigaci√≥n de editores (b√∫squeda web + documentaci√≥n)

> Objetivo: Que pueda incrustarse, soporte WYSIWYG (rich text/lo que ves es lo que obtienes) y pueda generar Markdown; preferiblemente sin necesidad de cadena de construcci√≥n (JS puro/CDN).

| Candidato | Posicionamiento/Modos | Forma de integraci√≥n | Tema/Personalizaci√≥n | Puntos clave | Conclusi√≥n de adaptaci√≥n a este proyecto |
|---|---|---|---|---|---|
| **Vditor** | Editor Markdown del lado del cliente; soporta WYSIWYG/IR(estilo Typora)/SV en paneles divididos | JS nativo; la web oficial y la forma CDN est√°n maduras (el texto de la p√°gina enfatiza claramente los tres modos) | Tiene muchos temas y opciones configurables; puede acercarse a suCSS mediante variables CSS | Soporta guardado autom√°tico, capacidades de subida por pegado/arrastre, etc. (ver descripci√≥n en la web oficial); Licencia MIT (`https://unpkg.com/vditor@3.10.4/LICENSE`) | **Recomendaci√≥n principal**: Coincide mejor con "sin cadena de construcci√≥n + edici√≥n en tiempo real"; se debe verificar especialmente que "los shortcodes/Front matter no se da√±en" |
| **TOAST UI Editor** | Modos duales Markdown/WYSIWYG | CDN (`uicdn.toast.com/editor/latest/...`) o npm | Tiene sistema de temas/estilos; puede adaptarse mediante CSS personalizado | La documentaci√≥n soporta expl√≠citamente CDN y desactivar `usageStatistics` (`https://unpkg.com/@toast-ui/editor@3.2.2/README.md`) | Alternativa: Maduro pero su sistema de estilos es m√°s "pesado", el costo de adaptar el tema a suCSS podr√≠a ser mayor; verificar licencia durante la integraci√≥n |
| **Milkdown** | Editor Markdown WYSIWYG basado en plugins (estilo Typora), ProseMirror + remark | Normalmente requiere bundler (React/Vue, etc.) | Altamente personalizable, pero con alto costo de ingenier√≠a | El README enfatiza su posicionamiento como editor Markdown WYSIWYG y licencia MIT (`https://raw.githubusercontent.com/Milkdown/milkdown/main/README.md`) | Adecuado como candidato si se decide "usar React/shadcn"; no coincide con el proyecto Zola actual (requiere introducir cadena de construcci√≥n) |
| **TipTap** | Toolkit de editor de rich text (m√°s orientado a HTML/Schema) | React/Vue/Svelte, etc. | Fuerte personalizaci√≥n, pero Markdown a menudo requiere conversi√≥n y restricciones adicionales | El sitio oficial enfatiza "colaboraci√≥n en tiempo real", etc., pero Markdown-first no es su n√∫cleo | No recomendado como primera opci√≥n (escenario de Markdown y shortcodes complejo) |

---

## Investigaci√≥n de backend (sin necesidad de c√≥digo personalizado)

| Soluci√≥n | ¬øRequiere servicio propio? | Autenticaci√≥n/Permisos | Almacenamiento/Historial | Relaci√≥n con publicaci√≥n Zola | Conclusi√≥n |
|---|---|---|---|---|---|
| **Supabase** | No (DB/Auth/Storage alojados) | Conexi√≥n directa desde frontend + RLS; la clave an√≥nima puede ser p√∫blica | El historial a nivel de fila en DB requiere configuraci√≥n propia (se puede crear tabla de revisiones) | Necesita "sincronizar con el repositorio/content" para afectar el sitio est√°tico | **Recomendaci√≥n predeterminada**: Implementaci√≥n m√°s directa; l√≠mites de seguridad claros (RLS); el almacenamiento de im√°genes tambi√©n es f√°cil |
| **GitHub Issue/Discussion** | Te√≥ricamente sin servicio, pero en la pr√°ctica a menudo requiere servicio de intercambio de tokens OAuth | Flujo OAuth complejo (dif√≠cil manejar el intercambio de tokens de forma segura solo con frontend) | GitHub tiene historial/auditor√≠a de forma natural | La sincronizaci√≥n con el sitio a√∫n requiere scripts para convertir issue/discussion en `content/` | Alternativa: Si se desea fuertemente que "el contenido sean datos de GitHub", puede considerarse; pero la complejidad de autenticaciÔøΩÔøΩn/subida/sincronizaci√≥n es mayor |

Complemento: El flujo web OAuth de GitHub Docs en el paso de "intercambiar code por access token" requiere expl√≠citamente proporcionar tanto `client_id` como `client_secret`, lo que hace que "conectar directamente GitHub desde el frontend como backend de escritura" sea dif√≠cil de justificar en t√©rminos de seguridad (a menos que se introduzca un servicio de intercambio de tokens o se use un flujo de dispositivo restringido, etc.).

---

## Entrega r√°pida

**Continuar desde aqu√≠ la pr√≥xima vez:**

1.  Confirmar en `plan.md` las suposiciones predeterminadas sobre "edici√≥n en tiempo real/alcance de la edici√≥n/flujo de publicaci√≥n" y los puntos de decisi√≥n que necesitan tu revisi√≥n.
2.  Bas√°ndose en tu retroalimentaci√≥n, hacer una recomendaci√≥n final y solidificar los pasos de implementaci√≥n entre las tres opciones (Supabase / GitHub Discussions / Reactificaci√≥n).

**Consideraciones:**

-   Cualquier UI (incluyendo la de administraci√≥n) debe reutilizar las variables CSS de `suCSS.css` y el mecanismo light/dark, sin introducir nuevos sistemas de temas que rompan el estilo.
-   Se debe verificar especialmente: si el editor reescribir√° los shortcodes y front matter de Zola.

---

*√öltima actualizaci√≥n: 2026-01-06 20:30 por Codex*