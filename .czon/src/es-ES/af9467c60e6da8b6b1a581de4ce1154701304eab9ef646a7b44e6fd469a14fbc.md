---
"title": "Dise√±o de Edici√≥n en Tiempo Real y Backend para un Blog en Zola"
"summary": "Este documento analiza en detalle el estado actual del sitio web del blog Zola, incluyendo su stack tecnol√≥gico, lenguaje de dise√±o y caracter√≠sticas del contenido, y propone un dise√±o para implementar la funcionalidad de edici√≥n WYSIWYG en tiempo real para Markdown. La recomendaci√≥n central es utilizar Vditor como editor y Supabase como soluci√≥n de backend para almacenamiento y autenticaci√≥n, enfatizando que no se requiere introducir una cadena de construcci√≥n (build chain), manteniendo el estilo JS minimalista existente y el lenguaje de dise√±o suCSS. El documento tambi√©n explora puntos de decisi√≥n clave como el alcance de la edici√≥n y el flujo de publicaci√≥n, y proporciona alternativas para el editor y el backend, asegurando que la soluci√≥n sea compatible con el proyecto actual y f√°cil de implementar."
"tags":
  - "Zola"
  - "Markdown"
  - "WYSIWYG"
  - "Supabase"
  - "Edici√≥n en tiempo real"
  - "Blog"
  - "Frontend"
  - "Dise√±o"
"date": "2026-01-06"
---

# Blog Zola: Dise√±o de Edici√≥n WYSIWYG en Tiempo Real para Markdown + Backend Supabase/GitHub - Contexto

## Progreso de la Sesi√≥n (2026-01-06)

### ‚úÖ Completado

- Auditor√≠a preliminar del estado actual: El proyecto es un sitio Zola, el tema est√° basado en anemone + suCSS, actualmente tiene muy poco JS y permite dependencias de CDN.

### üü° En Progreso

- Producir un dise√±o detallado para revisi√≥n (selecci√≥n de editor/backend + flujo de publicaci√≥n/sincronizaci√≥n + pasos de implementaci√≥n).

### ‚ö†Ô∏è Bloqueos/Pendientes

- Significado preciso de "edici√≥n en tiempo real" (vista previa en tiempo real vs. guardado autom√°tico vs. colaboraci√≥n multiusuario).
- Alcance de la edici√≥n (editar solo unas pocas p√°ginas/archivos individuales, o todo el contenido del sitio).
- Flujo de publicaci√≥n (solo guardar borradores vs. sincronizar con `content/` para desencadenar la construcci√≥n de Zola).

---

## Archivos Clave

- `config.toml`: Configuraci√≥n del sitio y navegaci√≥n; tema predeterminado claro, soporta m√∫ltiples idiomas.
- `templates/head.html`: Incluye globalmente `static/css/reset.css`, `static/css/suCSS.css`, `static/css/style.css` y `static/js/script.js`, e importa v√≠a CDN `rxjs`, `highlight.js`, `mermaid`.
- `static/css/suCSS.css`: Tokens de dise√±o (variables CSS) y estilos de componentes base (formularios, botones, tablas, etc.); incluye variables para temas claro/oscuro.
- `static/css/style.css`: Estilos personalizados del sitio (navegaci√≥n, pie de p√°gina, slider, estilos de shortcodes, etc.).
- `static/js/script.js`: Cambio de tema (`data-theme` + localStorage) e interacci√≥n del slider; puede reutilizarse en la p√°gina de administraci√≥n para mantener una experiencia consistente.
- `content/**`: Fuente de contenido en Markdown; contiene front matter YAML (`---`) y shortcodes (ej. `{{ slideshow(...) }}`).

---

## Decisiones Clave

| Decisi√≥n | Raz√≥n | Alternativa | Fecha |
|------|------|----------|------|
| Recomendaci√≥n predeterminada: "P√°gina de administraci√≥n en JS puro + almacenamiento/autenticaci√≥n con Supabase", evaluando prioritariamente Vditor como editor | El proyecto actual no tiene cadena de construcci√≥n Node/React; ya existe una convenci√≥n de dependencias de CDN; Vditor ofrece tres modos (WYSIWYG/IR/SV) y se posiciona como "editor de Markdown en el navegador", con el costo de integraci√≥n m√°s bajo | React + shadcn + Milkdown/TipTap; o GitHub Discussion/Issue como backend | 2026-01-06 |

---

## Resumen de la Auditor√≠a del Estado Actual

### Stack Tecnol√≥gico/Despliegue

- El sitio es Zola (`config.toml`), GitHub Actions utiliza `shalzz/zola-deploy-action` para desplegar en `gh-pages` (`.github/workflows/*.yaml`).
- El sitio es "JS minimalista": el √∫nico script actual es `static/js/script.js`, el resto son CDN (`rxjs`, `highlight.js`, `mermaid`).

### Tema y Lenguaje de Dise√±o (debe mantenerse)

- La apariencia visual se basa en las variables CSS de `suCSS.css`: `--bg/--bg-light/--text/--text-light/--accent/--accent-light/--link/--border`, etc.
- Mecanismo de cambio de tema: `document.documentElement[data-theme="light"|"dark"]`, sincronizado con `prefers-color-scheme` + localStorage (ver `static/js/script.js`).
- Estilo de componentes: botones/formularios/tablas/marcadores de lista, etc., est√°n definidos en `suCSS.css`; cualquier nueva UI debe priorizar la reutilizaci√≥n de estos elementos sem√°nticos y variables, en lugar de introducir un nuevo sistema de dise√±o.

### Caracter√≠sticas del Contenido (impactan al editor)

- El Markdown puede contener:
  - Front matter YAML (ejemplo: `content/gcores-talks.md`)
  - Shortcodes de Zola (ejemplo: `{{ slideshow(...) }}`, plantillas en `templates/shortcodes/*`)
  - Bloques de c√≥digo resaltados, bloques de c√≥digo mermaid
- Punto de riesgo: Si un editor WYSIWYG intenta "comprender/renderizar" los shortcodes, podr√≠a reescribirlos o eliminarlos; se necesita un editor/modo que "mantenga intacta la sintaxis desconocida", o proporcionar un "modo de c√≥digo fuente" en el editor como respaldo.

---

## Investigaci√≥n de Editores (b√∫squeda web + documentaci√≥n)

> Objetivo: Que sea embebible, soporte WYSIWYG (texto enriquecido/lo que ves es lo que obtienes) y pueda generar Markdown; preferiblemente sin necesidad de cadena de construcci√≥n (JS puro/CDN).

| Candidato | Posicionamiento/Modos | Forma de Integraci√≥n | Tema/Personalizaci√≥n | Puntos Clave | Conclusi√≥n de Adaptaci√≥n a este Proyecto |
|---|---|---|---|---|---|
| **Vditor** | Editor de Markdown en el navegador; soporta modos WYSIWYG/IR (similar a Typora)/SV (vista dividida) | JS nativo; la web oficial y la forma CDN est√°n maduras (el texto de la p√°gina enfatiza claramente los tres modos) | Tiene muchos temas y opciones configurables; se puede acercar a suCSS mediante variables CSS | Soporta guardado autom√°tico, carga por arrastrar y soltar/pegar, etc. (ver descripci√≥n en la web oficial); Licencia MIT (`https://unpkg.com/vditor@3.10.4/LICENSE`) | **Recomendaci√≥n principal**: Coincide mejor con "sin cadena de construcci√≥n + edici√≥n en tiempo real"; es crucial verificar que "los shortcodes/Front matter no se corrompan" |
| **TOAST UI Editor** | Modos duales Markdown/WYSIWYG | CDN (`uicdn.toast.com/editor/latest/...`) o npm | Tiene sistema de temas/estilos; se puede adaptar mediante CSS personalizado | La documentaci√≥n soporta expl√≠citamente CDN y desactivar `usageStatistics` (`https://unpkg.com/@toast-ui/editor@3.2.2/README.md`) | Alternativa: Maduro pero su sistema de estilos es m√°s "pesado", el costo de adaptaci√≥n al tema suCSS puede ser mayor; confirmar licencia durante la integraci√≥n |
| **Milkdown** | Editor de Markdown WYSIWYG basado en plugins (estilo Typora), ProseMirror + remark | Normalmente requiere bundler (React/Vue, etc.) | Altamente personalizable, pero con alto costo de ingenier√≠a | El README enfatiza su posicionamiento como editor WYSIWYG Markdown y licencia MIT (`https://raw.githubusercontent.com/Milkdown/milkdown/main/README.md`) | Adecuado como candidato si se decide usar "React/shadcn"; no coincide con el proyecto Zola actual (requiere introducir cadena de construcci√≥n) |
| **TipTap** | Toolkit de editor de texto enriquecido (m√°s orientado a HTML/Esquema) | React/Vue/Svelte, etc. | Fuerte personalizaci√≥n, pero Markdown a menudo requiere conversi√≥n y restricciones adicionales | El sitio oficial enfatiza "colaboraci√≥n en tiempo real", etc., pero Markdown-first no es su n√∫cleo | No recomendado como primera opci√≥n (escenario de Markdown y shortcodes complejo) |

---

## Investigaci√≥n de Backend (sin necesidad de escribir backend manualmente)

| Soluci√≥n | ¬øRequiere servicio propio? | Autenticaci√≥n/Permisos | Almacenamiento/Historial | Relaci√≥n con la publicaci√≥n de Zola | Conclusi√≥n |
|---|---|---|---|---|---|
| **Supabase** | No (DB/Auth/Storage gestionados) | Conexi√≥n directa desde frontend + RLS; la clave an√≥nima puede ser p√∫blica | El historial a nivel de fila en DB requiere configuraci√≥n propia (se puede crear una tabla de revisiones) | Necesita "sincronizar con el repositorio/content" para afectar al sitio est√°tico | **Recomendaci√≥n por defecto**: Implementaci√≥n m√°s directa; l√≠mites de seguridad claros (RLS); el almacenamiento de im√°genes tambi√©n es f√°cil |
| **GitHub Issue/Discussion** | Te√≥ricamente sin servicio, pero en la pr√°ctica a menudo requiere un servicio de intercambio de tokens OAuth | Flujo OAuth complejo (dif√≠cil manejar el intercambio de tokens de forma segura solo con frontend) | GitHub tiene historial/auditor√≠a de forma natural | La sincronizaci√≥n con el sitio a√∫n requiere scripts para convertir issues/discussions en `content/` | Alternativa: Si se desea fuertemente que "el contenido sean datos de GitHub", se puede considerar; pero la complejidad de autenticaci√≥n/carga/sincronizaci√≥n es mayor |

Complemento: El flujo web OAuth de GitHub Docs en el paso de "intercambiar code por access token" requiere expl√≠citamente proporcionar tanto `client_id` como `client_secret`, lo que hace que "conectar directamente desde el frontend a GitHub como backend de escritura" sea dif√≠cil de justificar en t√©rminos de seguridad (a menos que se introduzca un servicio de intercambio de tokens o se utilice un flujo de dispositivo restringido, etc.).

---

## Entrega R√°pida

**Continuar desde aqu√≠ la pr√≥xima vez:**

1.  En `plan.md`, confirmar las suposiciones por defecto sobre "edici√≥n en tiempo real/alcance de la edici√≥n/flujo de publicaci√≥n" y los puntos de decisi√≥n que requieren tu revisi√≥n.
2.  Bas√°ndose en tu retroalimentaci√≥n, hacer una recomendaci√≥n final y solidificar los pasos de implementaci√≥n entre las tres opciones (Supabase / GitHub Discussions / Reactificaci√≥n).

**Consideraciones:**

- Cualquier UI (incluyendo la de administraci√≥n) debe reutilizar las variables CSS de `suCSS.css` y el mecanismo claro/oscuro, sin introducir nuevos sistemas de temas que rompan el estilo.
- Es crucial verificar: si el editor reescribir√° los shortcodes y el front matter de Zola.

---

*√öltima actualizaci√≥n: 2026-01-06 20:30 por Codex*