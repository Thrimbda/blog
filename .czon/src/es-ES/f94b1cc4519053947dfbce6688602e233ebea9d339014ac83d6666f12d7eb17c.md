---
"title": "Guía de configuración y uso de Notion MCP en OpenCode"
"summary": "Este documento es una guía completa para configurar y utilizar el servidor MCP de Notion en OpenCode. Primero confirma la configuración exitosa a través de un servidor MCP remoto y proporciona un ejemplo de configuración almacenado en `opencode.json`. Luego, indica que la autenticación OAuth se completó con éxito y que el token se almacena de forma segura. La parte central detalla cómo usar las herramientas de Notion, incluyendo verificar el estado del servidor, hacer referencia a las herramientas en los prompts y el alcance de las herramientas disponibles (como buscar páginas, recuperar contenido, gestionar bases de datos, etc.). Además, proporciona pasos para reautenticarse, cerrar sesión y solucionar problemas. El documento también menciona el método alternativo de configuración de un servidor MCP local y enfatiza las consideraciones de seguridad. Finalmente, indica que la fecha de finalización de la configuración fue el 18 de enero de 2026."
"tags":
  - "Notion"
  - "MCP"
  - "OpenCode"
  - "Guía de configuración"
  - "Integración de API"
  - "Automatización"
  - "Herramientas de desarrollo"
"date": "2026-01-18"
---

# Configuración de Notion MCP para OpenCode

## Configuración Completada

Notion MCP se ha configurado correctamente utilizando el servidor MCP remoto de OpenCode. La configuración se almacena en `opencode.json`:

```json
{
  "$schema": "https://opencode.ai/config.json",
  "mcp": {
    "notion": {
      "type": "remote",
      "url": "https://mcp.notion.com/mcp",
      "enabled": true
    }
  }
}
```

## Estado de Autenticación

✅ **Autenticación Exitosa**

Tu cuenta de Notion se ha conectado mediante OAuth. Los tokens de autenticación se almacenan de forma segura en el almacenamiento local de OpenCode.

## Cómo Usarlo

### 1. Verificar el estado del servidor MCP
```bash
opencode mcp list
```

### 2. Usar las herramientas de Notion en OpenCode
Al usar OpenCode, puedes hacer referencia a las herramientas de Notion en tus prompts. Ejemplos de prompts:

```
Busca páginas en mi espacio de trabajo de Notion sobre "planificación de proyectos" usando las herramientas de notion
```

```
Enumera mis bases de datos recientes de Notion usando las herramientas de notion
```

```
Obtén el contenido de una página específica de Notion usando las herramientas de notion
```

### 3. Herramientas de Notion Disponibles
El servidor MCP de Notion proporciona herramientas para:
- Buscar páginas y bases de datos
- Recuperar contenido de páginas
- Crear y actualizar páginas
- Trabajar con bases de datos (ahora llamadas fuentes de datos)
- Gestionar comentarios
- Y más...

### 4. Reautenticarse si es necesario
Si la autenticación expira:
```bash
opencode mcp auth notion
```

### 5. Eliminar la autenticación
```bash
opencode mcp logout notion
```

## Notas de Seguridad

- Los tokens OAuth se almacenan de forma segura en `~/.local/share/opencode/`
- El servidor MCP remoto (https://mcp.notion.com/mcp) es mantenido por Notion
- El acceso a tus datos de Notion está limitado a lo que autorizaste durante OAuth
- No se necesitan ni almacenan tokens de API locales

## Solución de Problemas

Si las herramientas no parecen funcionar:

1. Verifica el estado de la conexión:
   ```bash
   opencode mcp debug notion
   ```

2. Reautentícate:
   ```bash
   opencode mcp logout notion && opencode mcp auth notion
   ```

3. Revisa los registros (logs) de OpenCode en busca de errores

## Alternativa: Servidor MCP Local

Si prefieres usar el servidor MCP local con tu token de API en lugar de OAuth:

1. Actualiza `opencode.json`:
```json
{
  "$schema": "https://opencode.ai/config.json",
  "mcp": {
    "notion": {
      "type": "local",
      "command": ["npx", "-y", "@notionhq/notion-mcp-server"],
      "environment": {
        "NOTION_TOKEN": "{env:NOTION_TOKEN}"
      }
    }
  }
}
```

2. Actualiza el archivo `.env`:
```
NOTION_TOKEN=tu_token_de_integración_de_notion_aquí
```

3. Reinicia OpenCode

---

**Configuración completada el: 18 de enero de 2026**