---
"title": "Registro de trabajo de abril de 2020"
"summary": "Este documento es el registro de trabajo de abril de 2020, que detalla el progreso diario del autor en proyectos técnicos y el proceso de resolución de problemas. El trabajo principal incluye la implementación y verificación de la compilación de límites de velocidad, la discusión y el análisis de algoritmos para esquemas de límites de velocidad personalizados, la finalización y prueba del enlace de POI en carriles opuestos, y la modificación sincronizada de la especificación de datos de mapas (mdm spec) y el prototipo (proto). Además, el documento cubre la corrección de múltiples errores (como HDMAPMDK-1111, 1121, 1143, etc.), la propuesta de optimizaciones de rendimiento (como la optimización edgeLifting en el problema de Sectioning), y la colaboración en equipo y el intercambio de conocimientos (como discusiones de interfaces con colegas y revisión de código). El documento está estructurado por fecha, mostrando el flujo completo desde el diseño de la solución, el desarrollo y la implementación hasta las pruebas y la depuración, destacando la resolución de desafíos técnicos y los hitos clave en el avance del proyecto."
"tags":
  - "Registro de trabajo"
  - "Desarrollo técnico"
  - "Compilación de límites de velocidad"
  - "Límite de velocidad personalizado"
  - "Corrección de errores"
  - "Datos de mapas"
  - "Resumen mensual"
  - "Optimización de rendimiento"
"date": "2020-04-01"
---

### 2020-04-13
- Completé la autoevaluación de desempeño.
- Revisión de Lane Center Aggregation.

### 2020-04-14
- [ ] Compilación de límites de velocidad.
- [ ] Límite de velocidad personalizado.

### 2020-04-15
- Determiné el esquema de límite de velocidad personalizado con @guangcong.
  1. Usar un nuevo módulo `dynamicEvent` para resolver este problema.
  2. La actualización del límite de velocidad personalizado se publica como un nuevo evento que desencadena la actualización de `horizon data`.
  3. Es necesario considerar la detección de excepciones y problemas de memoria.
  Después de discutir con Guangcong, él encontró algunos problemas.
- Revisión de código con Xiaokang.
  Java, como un lenguaje sólido, tiene mucho que ofrecer.
- Compilación de límites de velocidad.
  Prácticamente sin progreso, añadí la lógica para extraer `RoadCenterTile`.
- Resolución del problema de Sectioning, análisis del esquema de optimización `edgeLifting`, propuesta del algoritmo de optimización:
  Dada la cabeza del recorrido (`traverse head`) y la función de conectividad, se proporciona la forma de recorrido.
- Investigación del principio de los JAR auto-ejecutables.

### 2020-04-16
- Aclaré la interfaz de `custom speed limit` con Yiming: él garantiza que el par de ubicaciones de entrada pueda determinar una única ruta más corta.
  Al regresar, analicé el algoritmo para generar el `custom speed limit` con Guangcong.
  1. Dada una ruta.
  2. Se sabe que | `start DiRoadOnPath::count` - `end DiRoadOnPath::count` | ≤ 1.
  Entonces, siempre se puede encontrar un par (`start DiRoadOnPath`, `end DiRoadOnPath`) que minimice la distancia.
- Proporcioné a Xiaokang una versión snapshot utilizable del compilador `pylon-v0.1.1`.
- Di un paseo y charlé informalmente con Hanteng.
- Aclaré con Zizhe y Yicheng la interfaz de uso del mapa SUMO.
- La compilación de `SpeedLimit` fue exitosa pero aún no se ha verificado.

### 2020-04-17
- Verificación de la compilación de `SpeedLimit`:
  `OSMSerializable` no es muy adecuado porque el `SpeedLimit` después del enlace no tiene geometría.
  Posible problema: pueden surgir problemas al enlazar límites de velocidad en la incorporación a rampas.
- [ ] Interpolación.
- [ ] Distancia de Hausdorff.
- [ ] `LcInJunctionTile`.

#### Algunas ideas peculiares
- ¿Implementar Spark directamente?
- ¿Qué necesita el Contexto de OSM?

### 2020-04-18
Completé los límites de velocidad.

### 2020-04-20
#### Límite de velocidad personalizado
- Guangcong cambió la entrada a un vector y añadió pruebas.
- Un pequeño problema es que Guangcong no entiende realmente el principio de funcionamiento de los punteros en C++.
- [ ] ¿Quizás intentar resolver [https://github.com/scalameta/scalafmt/issues/337](https://github.com/scalameta/scalafmt/issues/337)?
- [ ] Convertir los archivos compartidos por el "tío" en compartición anónima a través de Resilio Sync.

#### Corrección de RoadBorder
Descubrí que hice una suposición incorrecta. La información de `lc` y `rb` registrada en `rc` puede presentar:
1. Solo hay un `lc`, por lo que no se puede asumir que `lc` tenga al menos dos.
2. El `rb` en un lado puede no existir, por lo que no se puede asumir que `rb` siempre exista.

### 2020-04-21
#### Corrección de RoadBorder
- Completé la migración de los casos de prueba.
- Mejoré Dune y su ReadMe para que pueda generar datos de prueba directamente.
  Hablé con Weiyu sobre el futuro, me centraré en el sistema de compilación.

#### Enlace de POI en carriles opuestos
- Realicé el enlace (`binding`) de los datos después de `multidigitize`.

### 2020-04-22
#### Enlace de POI en carriles opuestos
- Realicé el enlace (`binding`) de los datos después de `multidigitize`.
- Construí datos de prueba.

### 2020-04-23
- Completé el enlace de POI en carriles opuestos y finalicé la depuración [4].

### 2020-04-27
Hoy me centré principalmente en lo siguiente:

#### Completar la sincronización de `mdm proto` y `mdm spec`
1. Junto con Linnan, corregimos partes de la `mdm spec` que estaban mal expresadas.
2. Dejamos varios elementos pendientes que Linnan y yo no pudimos decidir por nuestra cuenta.
3. En la reunión matutina del 2020-04-26, se decidió posponer las modificaciones más problemáticas de `LaneSplitMerge` y `Polyline`.
4. Completé la modificación del `proto`.
5. Completé la modificación de `nexus`.
6. Completé la modificación de `mdk`.
7. De paso, también solucioné un problema con los datos de prueba (reportaba errores de datos de forma masiva).

#### Corrección de errores
Cerca del lanzamiento del 30/04, el número de errores aumentó drásticamente.

[HDMAPMDK-1111](https://jira.momenta.works/browse/HDMAPMDK-1111) analizado.

- [ ] Script para copiar automáticamente casos de prueba.
- [ ] Exportar recordatorios de Apple.

### 2020-04-28
Dediqué medio día a tomar el examen teórico de conducir (科一).

HDMAPMDK-1130 Problema de ancho, tres cuestiones:
1. La especificación establece que no hay ancho de carril durante el cambio de carril.
2. Líneas de intersección demasiado largas que causan líneas divididas (`split line`).

HDMAPMDK-1121 corregido nuevamente.

Estado de ánimo muy bajo.

### 2020-04-29
#### Corrección de errores
- HDMAPMDK-1143
  Problema de que `RoadObstacle` no se compilaba.
- HDMAPMDK-1090