---
"title": "Notion MCP Setup and Usage Guide for OpenCode"
"summary": "This document is a comprehensive guide for setting up and using the Notion MCP server within OpenCode. It first confirms successful configuration via a remote MCP server and provides a specific configuration example stored in `opencode.json`. It then states that OAuth authentication has been completed successfully, with authentication tokens securely stored. The core section details how to use Notion tools, including checking server status, referencing tools in prompts, and the scope of available tools (such as searching pages, retrieving content, managing databases, etc.). Additionally, it provides steps for re-authentication, logging out, and troubleshooting. The document also mentions an alternative configuration method using a local MCP server and emphasizes security considerations. Finally, it notes the setup completion date as January 18, 2026."
"tags":
  - "Notion"
  - "MCP"
  - "OpenCode"
  - "Configuration Guide"
  - "API Integration"
  - "Automation"
  - "Development Tools"
"date": "2026-01-18"
---

# Notion MCP Setup for OpenCode

## Configuration Complete

Notion MCP has been successfully configured using OpenCode's remote MCP server. The configuration is stored in `opencode.json`:

```json
{
  "$schema": "https://opencode.ai/config.json",
  "mcp": {
    "notion": {
      "type": "remote",
      "url": "https://mcp.notion.com/mcp",
      "enabled": true
    }
  }
}
```

## Authentication Status

âœ… **Authenticated Successfully**

Your Notion account has been connected via OAuth. Authentication tokens are stored securely in OpenCode's local storage.

## How to Use

### 1. Check MCP Server Status
```bash
opencode mcp list
```

### 2. Use Notion Tools in OpenCode
When using OpenCode, you can reference Notion tools in your prompts. Example prompts:

```
Search for pages in my Notion workspace about "project planning" using the notion tools
```

```
List my recent Notion databases using the notion tools
```

```
Get the content of a specific Notion page using the notion tools
```

### 3. Available Notion Tools
The Notion MCP server provides tools for:
- Searching pages and databases
- Retrieving page content
- Creating and updating pages
- Working with databases (now called data sources)
- Managing comments
- And more...

### 4. Re-authenticate if Needed
If authentication expires:
```bash
opencode mcp auth notion
```

### 5. Remove Authentication
```bash
opencode mcp logout notion
```

## Security Notes

- OAuth tokens are stored securely in `~/.local/share/opencode/`
- The remote MCP server (https://mcp.notion.com/mcp) is maintained by Notion
- Your Notion data access is limited to what you authorized during OAuth
- No local API tokens are needed or stored

## Troubleshooting

If tools don't appear to work:

1. Verify connection status:
   ```bash
   opencode mcp debug notion
   ```

2. Re-authenticate:
   ```bash
   opencode mcp logout notion && opencode mcp auth notion
   ```

3. Check OpenCode logs for errors

## Alternative: Local MCP Server

If you prefer to use the local MCP server with your API token instead of OAuth:

1. Update `opencode.json`:
```json
{
  "$schema": "https://opencode.ai/config.json",
  "mcp": {
    "notion": {
      "type": "local",
      "command": ["npx", "-y", "@notionhq/notion-mcp-server"],
      "environment": {
        "NOTION_TOKEN": "{env:NOTION_TOKEN}"
      }
    }
  }
}
```

2. Update `.env` file:
```
NOTION_TOKEN=your_notion_integration_token_here
```

3. Restart OpenCode

---

**Setup completed on: January 18, 2026**