---
"title": "Notas sobre el artículo de RDD"
"summary": "Este documento es una nota sobre el artículo de Resilient Distributed Datasets (RDDs), que detalla la motivación, características básicas, ventajas y limitaciones de los RDD como una abstracción de memoria para sistemas distribuidos. Al sacrificar la granularidad fina del cálculo, los RDD logran un cálculo iterativo eficiente, tolerancia a fallos y generalidad, resolviendo los cuellos de botella de rendimiento en la reutilización de datos de los marcos de cálculo distribuido tradicionales. El artículo también presenta la implementación de RDD en Spark, incluyendo su interfaz de programación, dependencias y evaluación de rendimiento, mostrando una mejora significativa en el rendimiento de RDD en tareas iterativas y programas de análisis de usuarios en comparación con Hadoop. Finalmente, el artículo resume que el valor central de RDD radica en modelar la memoria del clúster, haciendo posible el cálculo rápido y continuo, y señala que las limitaciones del hardware son el límite teórico para la innovación en software."
"tags":
  - "RDD"
  - "Spark"
  - "Sistemas distribuidos"
  - "Notas de artículo"
  - "Abstracción de memoria"
  - "Cálculo iterativo"
  - "Tolerancia a fallos"
  - "Optimización de rendimiento"
"date": "29 de octubre de 2020"
---

Resilient Distributed Datasets (RDDs) son una abstracción de memoria para sistemas distribuidos.

Esencialmente, es un modelo de **memoria compartida** con restricciones estrictas, que solo proporciona operaciones de transformación de **granularidad gruesa**.

## Motivación

### Problema

Los cálculos distribuidos de naturaleza **iterativa** requieren la capacidad de (re)utilizar datos de manera eficiente entre iteraciones.

### Estado actual

- Los marcos de cálculo distribuido existentes (en 2012) carecían de una abstracción que aprovechara (reutilizara) eficientemente la memoria del clúster.
- La única forma de reutilizar datos en los marcos existentes era lanzar múltiples cálculos distribuidos.

Por lo tanto, aunque el problema de la computabilidad estaba resuelto, la reutilización de datos seguía siendo un cuello de botella de rendimiento para este tipo de cálculos: se perdían muchos recursos en operaciones de E/S demasiado frecuentes.

Algunos trabajos intentaron resolver estos problemas, pero solo podían admitir patrones de cálculo específicos, careciendo de generalidad.

El principal desafío era el equilibrio entre la granularidad del cálculo, la generalidad y la tolerancia a fallos.

## RDD

RDD proporciona una abstracción de memoria para clústeres de cálculo distribuido, resolviendo en gran medida los problemas anteriores. Su enfoque fue sacrificar el aspecto relativamente menos importante de los tres: la granularidad del cálculo.

### Conceptos básicos

Propiedades de RDD:

- Inmutables
- Evaluación perezosa (Lazy)

Operaciones soportadas por RDD:

- Transformaciones - Operaciones perezosas (Lazy)
  - map
  - filter
  - ...
- Acciones - Inician cálculos
  - count
  - collect
  - save
  - ...
- Persistencia (por ejemplo, cache)

Spark implementa RDD y proporciona una interfaz de programación similar a DryadLINQ.

### Ventajas de RDD

Principalmente en comparación con abstracciones similares (que modelan la memoria del clúster), RDD sacrifica las operaciones de datos de granularidad fina para lograr un rendimiento superior en otros aspectos (generalidad, tolerancia a fallos, rendimiento en degradación, consistencia, problema de los nodos lentos, facilidad de uso).

### Limitaciones de RDD

RDD no es adecuado para cálculos asíncronos con muchas lecturas y escrituras de granularidad fina, como los sistemas de almacenamiento para rastreadores web. Para aplicaciones similares, los autores sugieren otros marcos, que no se detallan aquí.

## Interfaz de programación de Spark

Implementado en Scala debido a su concisión y eficiencia.

El autor proporciona varios ejemplos en esta sección, que se omiten aquí.

## Representación de RDD

Se utiliza un DAG (Grafo Acíclico Dirigido) para representar un RDD.

### Dependencias

- Dependencias estrechas (narrow dependencies) - Cada padre es dependido por como máximo un hijo.
- Dependencias amplias (wide dependencies) - Un padre es dependido por al menos un hijo.

## Implementación

- Se utiliza Mesos para la gestión del clúster.
- Programación de trabajos (Job schedule) - omitido.
- Integración del intérprete - omitido.
- Gestión de memoria - omitido.

## Evaluación

- En tareas iterativas: 20 veces más rápido que Hadoop.
- En programas de análisis de usuarios: se reporta 40 veces más rápido que Hadoop.
- Tras un fallo de nodo, se puede recalcular rápidamente.
- Consulta de 1 TB de datos con una latencia de 5-7 segundos.

Los detalles se omiten.

## Discusión

Demostraron de manera exhaustiva la generalidad de RDD utilizando Spark para imitar otros marcos de cálculo distribuido.

Los detalles específicos se omiten.

## Resumen

- La mayor ventaja de RDD/Spark es modelar la memoria de todo el clúster, permitiendo que el cálculo distribuido almacene resultados intermedios en memoria. Esto hace posible el cálculo rápido y continuo sobre el mismo conjunto de datos. Todo esto se basa en una premisa: la memoria es un orden de magnitud más rápida que el disco duro (de ahí la mejora de rendimiento de 40x de Spark sobre Hadoop).
  Esto muestra que el límite teórico para la innovación en software son las limitaciones físicas del hardware.