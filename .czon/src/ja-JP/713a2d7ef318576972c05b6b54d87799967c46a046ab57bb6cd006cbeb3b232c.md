---
"title": "GFS論文ノート"
"summary": "本稿は、分散ファイルシステムであるGFS（Google File System）の論文に関するノートです。GFSの4つの核となる特徴、すなわち、マシン障害のモデル化、大容量ファイルの保存、追記を主とするファイル操作、およびアプリケーションの使用シナリオを考慮した設計についてまとめています。また、GFSの設計前提についても詳細に説明しており、部分的な障害が常態であること、大容量ファイルが常態であること、読み取りワークロードが大量のストリーミング読み取りと少量のランダム読み取りに分かれること、書き込みワークロードが大量のシーケンシャル書き込みを主とすること、そして複数のクライアントによる同一ファイルへの並列書き込みを最適化していることなどが挙げられます。これらの特徴と前提が相まって、GFSは大規模データ処理に適した、効率的で信頼性の高いアーキテクチャの基盤を構成しています。"
"tags":
  - "GFS"
  - "分散システム"
  - "ファイルシステム"
  - "論文ノート"
  - "技術"
  - "ビッグデータ"
  - "ストレージ"
  - "Google"
"date": "2020-10-29"
---

GFSは、以下の4つの特徴を持つ分散ファイルシステムです。

1.  **マシン障害のモデル化** - GFSは、大量の安価なハードウェアで構成されるクラスタ上で動作します。そのため、様々な理由によりクラスタの一部で障害が発生することがあります。
2.  **保存するファイルの容量が大きい** - （2003年当時の基準では）数GBの大容量ファイルが常態です。そのため、I/O操作やブロックサイズはこれを特に考慮して設計されています。
3.  **ファイル操作は追記が主** - これが主な最適化の対象となります。
4.  **ファイルシステムの設計はアプリケーションの使用シナリオを考慮する** - 柔軟性が大幅に向上します。これは、閉じたシステムの利点と言えるでしょう。

## 設計概要

### 前提

- **部分的な障害は常態である** - 監視、検査、エラーへの耐性、および自己修復機能が必要です。
- **大容量ファイルは常態である** - 主に大容量ファイルの管理を最適化します。
- **読み取りワークロード**は主に以下の2種類です。
  - **大量のストリーミング読み取り** - 1回あたり約1MB程度を連続して読み取ります。
  - **少量のランダム読み取り** - 1回あたり数KB程度ですが、アプリケーションは実際にはランダム読み取りを許容しません。
- **書き込みワークロード**は、主に大量のシーケンシャル書き込みです。読み取り操作と同様に、変更はほとんど行われないため、最適化の対象とはしません。
- **複数のクライアントによる同一ファイルへの並列書き込みを最適化する** - 適切なアトミック操作によって実現します。