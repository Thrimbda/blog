---
"title": "April 2020 Work Log"
"summary": "This document is the work log for April 2020, detailing the author's daily progress and problem-solving processes in technical projects. Core work includes the implementation and verification of speed limit compilation, discussion and algorithm refinement for custom speed limit solutions, completion and testing of opposite lane POI binding, and synchronized modifications to the map data specification (mdm spec) and prototype (proto). Additionally, the document covers multiple bug fixes (e.g., HDMAPMDK-1111, 1121, 1143), proposals for performance optimizations (e.g., edgeLifting optimization in Sectioning issues), and team collaboration and knowledge sharing (e.g., discussing interfaces with colleagues, code reviews). Structured by date, the document showcases the full process from solution design and development to testing and debugging, highlighting the resolution of technical challenges and key milestones in project advancement."
"tags":
  - "Work Log"
  - "Technical Development"
  - "Speed Limit Compilation"
  - "Custom Speed Limit"
  - "Bug Fix"
  - "Map Data"
  - "Monthly Summary"
  - "Performance Optimization"
"date": "2020-04-01"
---

### 2020-04-13
- Completed self-performance evaluation.
- Revised Lane Center Aggregation.

### 2020-04-14
- [ ] Speed limit compilation.
- [ ] Custom speed limit.

### 2020-04-15
- Determined the custom speed limit solution with @guangcong.
  1. Use a new module-dynamicEvent to address this issue.
  2. Custom speed limit updates will be published as a new event to trigger horizon data updates.
  3. Need to consider exception handling and memory issues.
  After discussing with Guangcong, he encountered some problems.
- Xiaokang's code review.
  Java, as a solid language, still has a lot to offer.
- Speed limit compilation.
  Made little progress; added logic for extracting RoadCenterTile.
- Resolved Sectioning issue, analyzed the edgeLifting optimization solution, and proposed an optimization algorithm:
  Given a traverse head and connectivity function, provide the traversal method.
- Researched the principles of self-executing JARs.

### 2020-04-16
- Clarified the custom speed limit interface with Yiming: He ensures that the input location pair can uniquely determine a shortest route.
  After returning, discussed the algorithm for generating custom speed limits with Guangcong.
  1. Given a route.
  2. Known condition: | start DiRoadOnPath::count - end DiRoadOnPath::count | â‰¤ 1.
  Then, a pair (start DiRoadOnPath, end DiRoadOnPath) can definitely be found to minimize the distance.
- Provided Xiaokang with a temporary snapshot version of the usable pylon-v0.1.1 compiler.
- Went downstairs for a casual walk and chatted with Hanteng.
- Clarified the SUMO map usage interface with Zizhe and Yicheng.
- Speed limit compilation succeeded but not yet verified.

### 2020-04-17
- SpeedLimit compilation verification:
  OSMSerializable is not ideal because SpeedLimit after binding has no geometry.
  Potential issue: Speed limit binding may have problems during ramp merging.
- [ ] Interpolation.
- [ ] Hausdorff distance.
- [ ] LcInJunctionTile.

#### Some Random Thoughts
- Go directly with Spark?
- What does the OSM Context need?

### 2020-04-18
Completed speed limit tasks.

### 2020-04-20
#### Custom Speed Limit
- Guangcong changed the input to a vector and added tests.
- A minor issue: Guangcong doesn't fully understand how C++ pointers work.
- [ ] Maybe try to solve [https://github.com/scalameta/scalafmt/issues/337](https://github.com/scalameta/scalafmt/issues/337)?
- [ ] Make the file shared by Dashu anonymously shareable via Resilio Sync.

#### RoadBorder Fix
Discovered a wrong assumption: The lc and rb information recorded in rc may have the following situations:
1. There is only one lc, so we cannot assume there are at least two lcs.
2. The rb on one side may not exist, so we cannot assume rb always exists.

### 2020-04-21
#### RoadBorder Fix
- Completed migration of test cases.
- Improved Dune and its ReadMe so it can directly output test data.
  Chatted with Weiyu about future prospects; I will focus on the compilation system.

#### Opposite Lane POI Binding
- Performed binding on data after multidigitize.

### 2020-04-22
#### Opposite Lane POI Binding
- Performed binding on data after multidigitize.
- Constructed test data.

### 2020-04-23
- Completed opposite lane POI binding and finished debugging [4].

### 2020-04-27
Today mainly involved the following tasks:

#### Completed Synchronization of mdm proto and mdm spec
1. Worked with Linnan to correct some erroneous descriptions in the mdm spec.
2. Left several pending items that Linnan and I couldn't decide alone.
3. Decided in the 2020-04-26 morning meeting to postpone the most troublesome modifications for LaneSplitMerge and Polyline.
4. Completed modifications to the proto.
5. Completed modifications to nexus.
6. Completed modifications to mdk.
7. Also fixed a test data issue (constant data errors were reported).

#### Bug Fixes
Approaching the 430 release, the number of bugs surged.

Analyzed [HDMAPMDK-1111](https://jira.momenta.works/browse/HDMAPMDK-1111).

- [ ] Script for automatically copying test cases.
- [ ] Export Apple reminders.

### 2020-04-28
Spent half a day taking the Subject 1 driving test.

HDMAPMDK-1130 width issue, three problems:
1. The spec states there is no lane width during lane changes.
2. Split lines caused by intersection lines being too long.

Re-fixed HDMAPMDK-1121.

In a very poor state.

### 2020-04-29
#### Bugfix
- HDMAPMDK-1143
  Issue where RoadObstacle was not compiled.
- HDMAPMDK-1090