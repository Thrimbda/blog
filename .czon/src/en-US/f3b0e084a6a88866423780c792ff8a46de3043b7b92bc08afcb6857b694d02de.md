---
"title": "Zola Blog Real-time Editing and Backend Solution Design"
"summary": "This document is a design task list for implementing WYSIWYG Markdown real-time editing functionality for a Zola blog, combined with either a Supabase or GitHub backend solution. The document begins with a current state audit and constraint analysis, clarifying technical constraints and the definition of real-time editing. Following this, through editor selection research, suitable editors are recommended and a theme adaptation strategy is formulated. Then, data models, permissions, and synchronization paths are designed for both the Supabase and GitHub backend solutions. Finally, a detailed design for the integrated solution, an implementation plan, and the scope for MVP and v2 enhancements are provided. The core goal is to achieve a blog editing and management interface that requires no manual backend, maintains consistent styling, and is feature-complete."
"tags":
  - "Zola"
  - "WYSIWYG"
  - "Markdown"
  - "Supabase"
  - "GitHub"
  - "Real-time Editing"
  - "Blog"
  - "Task List"
"date": "2026-01-06"
---

# Zola Blog: WYSIWYG Markdown Real-time Editing + Supabase/GitHub Backend Solution Design - Task List

## Quick Status

**Current Phase**: Completed (Pending Review)
**Current Task**: Awaiting your review: Confirm editing scope / real-time definition / publishing pipeline / authentication / image strategy (see `plan.md`)
**Progress**: 8/8 tasks completed (Design document is ready)

---

## Phase 1: Current State Audit & Constraints ✅ COMPLETE

- [x] Audit existing theme/CSS variables, template structure, JS dependencies, and deployment method to clarify the design language and technical constraints that must be preserved. | Acceptance: Document existing architecture, CSS tokens/variables, reusable components/page entry points, and points not to break in `context.md`.
- [x] Clarify the meaning of "real-time editing" (real-time preview / auto-save / multi-user collaboration) and list questions requiring your review. | Acceptance: List unresolved issues and default assumptions in `plan.md`.

---

## Phase 2: Editor Selection Research ✅ COMPLETE

- [x] Research embeddable WYSIWYG Markdown editors (preferring 1-2 no-build/pure JS solutions + 1-2 React solutions), comparing features, bundle size, customization/theme capabilities, image upload hooks, license, and integration complexity. | Acceptance: Write a comparison table and recommended candidates (with links) in `context.md`, noting points requiring verification/uncertainty.
- [x] Provide a UI/theme adaptation strategy consistent with the existing suCSS + CSS variable style (introducing no or minimal new design system). | Acceptance: Provide the theme adaptation strategy and key implementation points (CSS variable mapping, dark mode, button/form styling) in `plan.md`.

---

## Phase 3: Backend & Data Model Design ✅ COMPLETE

- [x] Design the Supabase solution: Auth, RLS, table structure, object storage (images), and frontend direct connection approach; simultaneously provide the GitHub Issue/Discussion solution: authentication, permissions, write operations, and synchronization strategy. | Acceptance: Write the data flow, permission models, threat points, and trade-off recommendations for both solutions in `context.md`.
- [x] Define the publish/synchronization path from "editing result" to "site content" (without writing a manual backend): e.g., GitHub Actions sync, client-side PR submission, or only as a draft repository. | Acceptance: Clearly define the recommended path, alternative paths, and their respective operational workflows in `plan.md`.

---

## Phase 4: Integrated Solution Detailed Design & Implementation Plan ✅ COMPLETE

- [x] Output the final recommended end-to-end design: page entry (`/admin`), routing/permissions, editor configuration, save/publish workflow, failure recovery, version history (optional). | Acceptance: Provide an executable step-by-step implementation plan (at file/directory level) in `plan.md`, marking key decision points requiring your review.
- [x] List the Minimum Viable Product (MVP) scope and subsequent enhancements (image management, drafts/publishing, rollback, multi-user collaboration, etc.). | Acceptance: Provide MVP and v2 enhancements in checklist form in `tasks.md`.

---

## Newly Discovered Tasks

(None)

---

## MVP (Suggested Scope)

- [ ] `/admin` page: Reuse `reset.css`/`suCSS.css`/`style.css`, and integrate existing light/dark toggle (maintaining style consistency).
- [ ] Supabase: Create `documents` table + RLS (single-user allowlist).
- [ ] Editor: Integrate Vditor (prioritize IR/source mode as fallback), implement "open → edit → auto-save (debounce)".
- [ ] Front matter protection: Frontend splits front matter and body for storage/editing (to prevent WYSIWYG from rewriting it).
- [ ] Publish button: Write `published_at` (or boolean) to distinguish "draft/published".
- [ ] GitHub Actions: Pull `published` documents from Supabase, synchronously write to `content/**` and commit to `master`, triggering site deployment.
- [ ] Conflict strategy: Default Supabase as source of truth; if manual repo changes are detected, fail-fast and prompt for manual resolution.

## v2 (Enhancements)

- [ ] Image upload: Integrate with Supabase Storage (drag-and-drop/paste upload), automatically inserting external link Markdown.
- [ ] Version history: `document_revisions` table (diffs/rollback), or retain rollback points in Git commits.
- [ ] Local preview consistency: Provide a "preview according to Zola rendering rules" hint within `/admin` (at minimum: code highlighting, mermaid, shortcodes displayed as-is).
- [ ] Multi-document management: Browse/search/tag according to the `content/**` tree structure.
- [ ] Permission enhancements: Multi-user (collaborators) and audit logs.
- [ ] Publishing pipeline enhancement: Generate a PR instead of direct push, facilitating review.

---

*Last Updated: 2026-01-06 20:33*