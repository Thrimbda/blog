---
title: 2020 業務日誌
date: 2020-01-01
taxonomies:
  tags:
    - 業務日誌
    - 月次サマリー
    - 技術
---

### 2020-04-13

- 業績自己評価を完了
- Lane Center Aggregationの修正

### 2020-04-14

- [ ] 速度制限コンパイル
- [ ] カスタム速度制限

### 2020-04-15

- カスタム速度制限の方式を決定 @guangcong
  1. この問題を解決するために新しいmodule-dynamicEventを使用
  2. カスタム速度制限の更新を新規イベントとして発行し、horizon dataの更新をトリガー
  3. 例外判定とメモリ問題を考慮する必要あり
     広聡と議論した後、広聡がいくつかの問題に遭遇
- 暁康によるレビュー
  Javaはsolidな言語としてやはり多くの要素を含んでいる
- 速度制限コンパイル
  ほとんど進捗なし、RoadCenterTileを抽出するロジックを追加
- Sectioning問題を解決、edgeLifting最適化案を分析し、最適化アルゴリズムを提案：
  与えられたtraverseヘッドとconnectivity関数に対して、走査方法を提示
- 自己実行Jarの原理を調査

### 2020-04-16

- 逸銘とカスタム速度制限のインターフェースを明確化：彼は入力されるlocation pairが必ず唯一の最短routeを決定できることを保証
  戻ってから広聡とカスタム速度制限生成アルゴリズムを整理
  1. routeが与えられる
  2. | start DiRoadOnPath::count - end DiRoadOnPath::count | ≤ 1 が既知
     ならば、最短距離となる一組の( start DiRoadOnPath, end DiRoadOnPath)を必ず求めることができる
- 暁康に使用可能なpylon-v0.1.1コンパイラースナップショットバージョンを一時的にリリース
- 漢騰と階下をぶらつき、雑談
- 梓哲、一誠とSUMO地図の使用インターフェースを明確化
- speed Limitのコンパイルは成功したが、まだ検証されていない

### 2020-04-17

- SpeedLimitコンパイル検証：
  OSMSerializableはあまり良くない、バインド後のSpeedLimitにgeometryがないため
  問題が発生する可能性あり：ランプ合流時の速度制限バインドで問題が発生する可能性
- [ ] 補間
- [ ] ハウスドルフ距離
- [ ] LcInJunctionTile

#### いくつかの奇抜なアイデア

- 直接sparkに移行？
- OSMのContextに何が必要か

### 2020-04-18

速度制限を完了

### 2020-04-20

#### カスタム速度制限

- 広聡が入力をvectorに変更、テストを追加
- 小さな問題として、広聡はc++ポインターの動作原理を本当に理解していない
- [ ] おそらく[https://github.com/scalameta/scalafmt/issues/337](https://github.com/scalameta/scalafmt/issues/337)を解決してみる？
- [ ] おじさんが共有したファイルを匿名共有し、resillo syncを通じて配布

#### RoadBorder修正

誤った仮定をしていたことが判明、rcに記録されるlcとrb情報には以下の可能性がある：

1. lcは一つしかないため、lcが少なくとも二つあると仮定できない
2. 片側のrbが存在しない可能性があるため、rbが必ず存在すると仮定できない

### 2020-04-21

#### RoadBorder修正

- テストケースの移行を完了
- DuneとそのReadMeを充実させ、直接テストデータを出力できるようにした
  威宇と少し話し、将来を展望、私はコンパイルシステムに専念する

#### 対向車線POIバインド

- multidigitize後のデータをbinding

### 2020-04-22

#### 対向車線POIバインド

- multidigitize後のデータをbinding
- テストデータを構築

### 2020-04-23

- 対向車線POIバインドを完了し、デバッグ終了[4]

### 2020-04-27

今日は主に以下の事項

#### mdm protoとmdm specの同期を完了

1. 林楠と共に、感触の薄いmdm spec中の誤った記述部分を修正
2. 私と林楠だけで決定できないいくつかの未解決項目を残す
3. 2020-04-26 朝会で、最も面倒なLaneSplitMergeとPolylineの修正を後回しに決定
4. protoの修正を完了
5. nexusの修正を完了
6. mdkの修正を完了
7. ついでにテストデータの問題も修正（データエラーが大量に報告されていた）

#### バグ修正

430リリース直前、バグ数が急増

[HDMAPMDK-1111](https://jira.momenta.works/browse/HDMAPMDK-1111) 分析完了

- [ ] テストケース自動複製スクリプト
- [ ] apple reminderのエクスポート

### 2020-04-28

学科試験に半日使用

HDMAPMDK-1130 幅の問題、三つの問題

1. specでは車線変更時に車線幅は規定されていない
2. intersecion線が長すぎるために発生するsplit line

HDMAPMDK-1121を再修正

状態が非常に悪い

### 2020-04-29

#### バグ修正

- HDMAPMDK-1143
  RoadObstacleがコンパイルされない問題
- HDMAPMDK-1090

### 2020-05-06

#### Du Valid

- millを使用
- nexus-osmを使用

#### ブレインストーミング

### 2020-05-08

#### メモリリーク問題

- メモリリーク問題の直接原因は、newしたダングリングポインタをdeleteしていないため
- update current positionの後、map kitがprepareGuidanceDataを呼び出し、現在位置に最も近いguidance dataを見つけることが目的
- prepareGuidanceDataはNavInfoProviderImpl::getTrafficLights & NavInfoProviderImpl::getCarParksを呼び出す
- NavInfoProviderImpl::getTrafficLightsを例にとると、呼び出し時にNaviEventOnPath内のデータポインタをnewしている
- しかしdeleteしていない
- DestEventにも同様の問題があることが判明

解決策：核心はダングリングポインタを許容しないこと、NaviEventProviderのリファクタリングを決定

- まずNaviInfoProviderに二つのフィールド traffic*light_events* & car*park_events* を追加
- NaviInfoGeneratorで、route updated後にこの二つのフィールドを更新
- その後、各get時に現在の車両位置に基づいてフィルタリング
- そのため`PathReader::getAttributes`をリファクタリングする必要あり、以前の実装は現在の車両に対するoffsetのみを考慮していたが、現在はPathに対するOffsetインターフェースが必要

### 2020-05-09

#### PolyLine修正およびテスト

PolyLineの問題は主に、PolyLine生成時に重複点が追加される可能性があり、それにより一連の幾何学的なsegment計算問題が発生すること：

1. ベクトル計算、二つの重複点からゼロベクトルが計算される
2. 長さ計算、segment長が0になり、容易にNan問題が発生

そこでPolyLine構築時に、PolyLine内の点を検査し、重複点を発見した場合は例外をスロー

以下の問題を発見：

- JtsのgetEndに問題発生
- Jts LinearLocationにnormalizeの問題が存在

  ```scala
  val loc1 = new LinearLocation(0, 1, 1.0)
  val loc2 = new LinearLocation(0, 2, 0.0)

  loc1 compareTo loc2
  // 出力は -1
  ```

- Interpolate時に、二つの近すぎる点を取得する可能性がある

### 2020-05-11

- HDMAPMDK-1122
  道路縁石線欠落問題は再現せず、原因調査にこれ以上時間を費やさないことを決定
- 代謝増長論を30分
- Visitorをリファクタリングし、同一起点終点のlineをサポートするように
- 面接問題を一つ準備

### 2020-05-12

- 面接：二人の候補者ともに不合格、候補者を迅速に見極める方法を考察、3時間を要する
- バグ修正: HDMAPMDK-1211 誤ったborder削除問題、前回の修正では成功していなかった
  解決策は思いついたが書き終えていない
- ジムに行った

### 2020-05-13

バグ修正: HDMAPMDK-1211 解決策を思いつく

- 根本原因は産線分割が不合理なため

#### 原因分析

車線変更がまだ終了していない状態（車線中心線が車線線を跨いでいる最中）で、既に分割が行われており、かつこの分割はRpを跨ぐ可能性があることが分かる。

lanecenter形状点上に付着するlane border観測情報は、幾何学的に忠実に、scan line方式を用いて両側の車道線を記録し、意味に基づくフィルタリングを行っていない。そのため、車道線が車線を跨ぐ位置では、車道線と交差する車線中心線が、その車道線を左右のlane border refに同時に記録してしまう。

既存のコードロジックでは、交差する車道線のborder refを意味に基づいてフィルタリングする際に、車線変更タイプに基づいて削除対象のborder refを推論する。

現在のロジックは、この種の分割に遭遇すると機能しなくなり、この問題を引き起こす。

#### 解決策

核心は**交差する車道線の車線変更傾向を見つける**こと、この種の分割がrpを跨ぐ可能性があることを考慮し、フィルタリングはrp単位で行うべきではない。

1. まず車道線をedge liftingを用いてpath（将来のgraphリファクタリングを考慮）に組織化: Seq[LaneCenter]
2. 修正対象のlane Center、および修正対象のlane borderを見つける（ここではこの種のlane Centerは必ず車線変更によるものと仮定）
3. laneCenter pathに基づき、このLaneCenterの車線変更傾向を計算
4. フィルタリングを実行

子良に任せる

面接一人不合格

### 2020-05-14

HDMAPMDK-1132 ポール標識車道線端点の id tracing

ポール標識車道線端点が直面するtracing問題は、線形objectのtracingと比較して非常に単純で、Idのマッピングのみが存在し、offsetやlengthのマッピングは存在しない。

しかし考慮すべき問題も少なくない：

1. 手順
2. Id Typing Systemは頑固な問題であり、対処法を考える必要あり

本質的にこの問題の根源は、Idを定義する際に全てLong Idを使用しているが、MDMの定義ではIntを使用しており、オーバーフロー問題を引き起こす可能性が高いことにある。

### 2020-05-15

#### バグ修正

- HDMAPMDK-1215完了
- HDMAPMDK-1218 完了

### 2020-05-18

OSM Assemblerをリファクタリング、以前のOSM serializeを使用し、コード理解の難易度と記述の容易さがともに向上

### 2020-05-19

OSM Assemblerのバグを一つ解決（実際にはバグではない）

今日はsprint planning会議を開催：
今sprintでやることは多くないが、考えることは多い。これは健全な状態

### 2020-05-20

- [ ] 現在のnexus/mdk CI状態と要件を記述したドキュメントを作成。
- [x] HDMAPMDK-1263 バグに注目
  - 確かに産線分割問題
- [ ] 楊川とCIについて会議を設定
- [ ] HDMAPMDK-1262
      完了せず
- [x] Custom Speed Limitの問題

### 2020-05-21

#### やることリスト

- [x] 喬波に挨拶
- [x] HDMAPMDK-1262
- [x] HDMAPMDK-755

#### 作業内容

- 朝、鎰銘の作業エリアで昨日のhotfixをオンラインデバッグ、結果はoffsetが原因。昨日書いた時はあまりに急ぎすぎており、全くテストを追加していなかった。このような行為は二度と起こすべきではない。多くの時間を節約したと思ったが、**結果的にはより多くの時間を浪費した**。
- 1262でデータが取得できない原因は、MDKがlane levelのroad mark（および road obstacle）をロードしていないため
- 杜哥のためにデータをコンパイル

### 2020-05-22

この日私は何をした？？？？
私は何をしたんだ？？？？

### 2020-05-25

今日新しいタスクを受領：HDMAPMDK-1249-道路幾何情報を使用してlane aggregationを計算する方法を調査。これにより今週のタスクが少し増えた。現時点でまだ三つのことをやる必要がある：

1. 1249
2. チーム内CI Pipelineの現状、要件、および解決策
3. Nexus graphリファクタリング

どれも慎重に構想を練る必要があり、簡単なことではないが、残念ながら各々について明確に時間を見積もることはできない。全て威宇が推定し、jiraタスクのstory pointsに書かれている。一つはっきりしていることがある：**私が推定と振り返りを始めなければ、永遠に正確に推定できない**。だから今回からは注意深く推定する。

また、今日から1249を始める計画。業務上のことなので、一般的により緊急性が高く、威宇もより気にかけるだろう。リファクタリングについては、私自身が気にかけなければ、おそらく誰も気にかけないだろう（残酷だが、機能に影響せず、効率に影響する。効率は最も測定が難しく、私自身も定性的な分析しか持っていない）

### 2020-05-26

今日は突発的なことが多かった。まずparkingで二つのバグが報告され、当初今日納品予定だったが、この二つのバグのため今日の納品は不可能に。王維が下流と相談し、納品を二日後ろ倒しに。そのため、ここ二日の主な作業はまたバグ解決に。納品時のスケジュール設定が合理的かどうか考えさせられる。次にHDMAPMDK-1290の問題。

今日完了したこと：

- HDMAPMDK-1290の続き：stop lineに極めて接近した場合、matchしたlane offsetがlane lengthより長くなる

  > この問題を調査し、解決策を考えるのに丸一日を費やした（現在時刻夜8:56）、効率が非常に悪い。

  本質的な原因は、MDKが長さを計算する際、二点間の長さを計算するたびにcoordinate transformを取るため、より正確ではあるが、結果に極めて強い不確実性が生じる。

  最終的に一種のハック的な方法を使用：計算されたoffsetが長さより長い場合は、長さのみを取る。

- HDMAPMDK-1297 駐車スペースのバインドミス
  本来の退社時間（夜9時）に近づいていたが、今日は少なくともこの問題を分析し終えなければ！
  ああ、解決した。単純な問題だった。

### 2020-05-27

今日は予定通りCI Pipelineの作業を終えるはずだった

結果、予想外のことが- -

逸銘からフィードバックされたバグ：

1. 信号機バインド：待機エリアにバインドされるべき信号機が、待機エリア前のpartitionにバインドされていた、修正済み(1.5h)
2. 信号機バインド漏れ：再現できず
   更新：困難なデバッグの末、ようやく問題箇所を発見。コンパイル時のrcとoffsetバインドに使用されたgeometryが同一の線でなかったため、offsetがroad長を超え、traffic lightが見つからなかった（2h）

### 2020-05-28

明日学科試験2、今日は一日練習。午後5時に戻る。調子は良かった、明日合格することを願う。

CI Pipelineの現状記述と要件分析を開始- -

### 2020-05-29

結果不合格。ああ、私には難しすぎる。

朝試験に行き、午後いくつかのことをした

1. 逸銘のところで異常状況を確認、結果は二つのバグ。
2. 午後townhall後、MDK python bindingについて同期。
3. 単楽、威宇と階下で下流の問題を解決、最終的に短期解決策と長期解決策を一つずつまとめる。

突発的な問題に遭遇した場合、一般的に問題解決の方法はこのパターンになるはず：
短期解決策と長期解決策。問題が露呈する価値は一定であり、かつ時限性がある。そのため短期解決策は迅速かつ正確に当面の急務を解決することに焦点を当てる。では長期解決策は必要か？一般的には必要。なぜなら一つの問題の特例は、以前考慮されていなかった解決策の盲点を反映しているから。この時、問題発生の原因を分析し、体系的に解決することで、この種の問題が今後も適切に解決されるようにし、元の解決策をより完全なものにする。長期解決策が不要な場合もある。それは問題を**徹底的に分析した後**、この問題を体系的に解決するコストが利益を上回ると判断した場合。（たとえそうであっても、ほとんどの場合、主観的には体系的に解決したいと思う。エンジニアとして誰が体系的に問題を解決したくないだろうか？しかしこれも罠を残す。重要だが緊急でないこと、あるいは重要でも緊急でもないことを解決するために、他のより価値のある問題を解決するために使える貴重な時間を浪費する可能性がある。）

4. 夜戻ってCI Pipelineの作業を続ける。

### 2020-06-01

今日は朝から逸銘のところで問題分析、一晩中分析。結果は以前の既知の問題（旧版コンパイラの補間による点欠落）が引き起こした別の問題：経路探索時にちょうど欠落線分付近に到達し、lane offsetが負の値になる。

結果、深夜4時近くまで作業。非効率で苦痛な徹夜の後（現在の状態では徹夜すると、基本的に非効率と結びつく感じがする）

### 2020-06-02

午後から出社、鎰銘の車載試験のためにいくつかのバグを解決、逸銘の夜の車載試験に間に合う。

### 2020-06-03

朝から逸銘の夜に発見された問題、つまり信号機が取得できない問題を解決。

### 2020-06-04

今朝やるべきことは三つ：

1. データのクリーンアップ、最終0605データのアップロード
2. 幅異常問題の確認 - その位置に車線がないため
3. 補間点が誤った車線に与えられる問題の確認
4. 再確認

### 2020-06-05

緊張と刺激に満ちた一日、HDMAPMDK-1347とHDMAPMDK-1352を完了、さらに大きなリファクタリングを一つ実施。

貴重な教訓を学んだ：納品直前には超大規模な変更をしてはいけない。十分なQAテストがない状況では、どんなに素晴らしいリファクタリングもリスクをもたらす可能性があり、同時に設計レビューの時間が十分でない（自分自身のことを指す。書いている途中で設計が間違っていることに気づくことがあるが、実装時に設計の問題に気づくのは別の問題、つまり着手が早すぎる）

月曜補足：
この緊張と刺激に満ちたリファクタリングの日、私はほとんど休まず、考える暇もなく、慣れとフロー状態に頼り、非常に高い効率でコードを書いた。納品前の大規模リファクタリングをすべきでないという原則を考慮しなければ、実は私はこの状態を非常に楽しんでいた。しかし全てには目標と意義が必要で、自分が楽しむだけではいけない。そうでなければこの楽しみは低級な趣味になってしまう。

### 2020-06-08

土曜日に北京に引っ越し、仕事を再開。

北京で仕事に戻る感覚は少し慣れない、全てが変わった。まず私には作業場所がない（秀贇がインターンを採用し、仕事の都合上彼女のインターンが座っている）。これは全ての喪失感の中で最も適応できない一つ。高校二年で一組に来て新しい席に座り、誰も知らず、話したくもない感じに似ている。ここの人々は馴染み深くもあり、見知らぬ人でもある。ここでは私の友人が少ないように感じる。これは理性的に判断すれば錯覚だと分かる。しかし人と交流したくない、隅っこにいたいという感覚は本当で、実際に隅っこを見つけて座った、瑀璋の隣。なぜ人と交流したくないのか、まだこの問題を理解できない。もしかしたら名目がないから？なぜ北京に来たのか、どれくらい滞在するのかと聞かれても、私は「しばらく、一、二ヶ月かな」と曖昧に答える。あるいは本質的に自分は内向的な人間で、面倒を嫌い、特に他人の目に自分が愚かに映っていないか気にするからかもしれない。しかし書き進めるほど、二つ目の要素がより多く、より不必要だと感じる。一つには、愚かに見えることは本当に愚かであるよりはましで、真剣に他人に教えを請うことは、たとえ不器用でも良い。恐れるな、若いうちは恐れるな。いつでも恐れるな。All is well.

次に仕事について、この期間は納品が忙しかった。主にTLM(typed lane model)のリファクタリング。今回は目標を明確にし、自分をコントロールし、衝動的にリファクタリングせず、戦略的に、自分の進捗を管理する。

また、デスクトップPCをうまく設定した。以前ずっとネットに接続できなかったのは、パスワードを変更したためで、ある時停電した後、ネットワークが完全に接続できなくなっていた。そこでマシンをセットアップする必要がある。今回の目標は優先順位で

1. 生産性
2. クールさ
3. 見た目の良さ

今日は王垠のブログを長い間見ていた- -継続的に解毒中。私は以前いつも狂信的な宗教的信者のようで、物事の本質を見ることができなかった。何かが全ての問題を解決する究極の手段だと思い込んでしまう。しかし実際にはこの種の「究極の手段」はほとんどなく、ほとんどの場合、単なる宗教的熱狂に過ぎない。例えば

- Vim vs Emacs
- OOP vs FP
- Go vs Rust

などなど。。。私は以前OOPに触れたばかりの頃、OOPは無敵で全ての問題を解決できると思い込んでいたが、結局は天下大同のクラスを書いただけで、実際にはこのクラスがなくても構わず、本当に有用なのはこのクラス下の一つ一つの関数だった。その後（ここ二年）FPに触れ、FPは全ての問題を解決する銀の弾丸だと思い込んだが、Scalaでしばらくプログラムを書いた後、自分の生産性が向上していないことに気づき、むしろ文法やImmutableにこだわることで自分の効率が低下していることに気づいた。

### 2020-06-09

少し調子を取り戻し、Archをインストール完了、使ってみるとmacより快適に感じる？

瑀璋としばらく酒場戦棋で遊んだ- -

### 2020-06-10

今日は以下のことを計画：

1. HDMAPMDK-1199 RoadMarkをサブクラス化し、より豊富な情報を提供
2. HDMAPMDK-892 経験軌跡を提供

余力があれば、バージョンリリースのドキュメントも少しやる。

結果892を完了

### 2020-06-11

HDMAPMDK-892- 経験軌跡提供をレビュー

MDKがまだ対応する適応を行っていないことに気づき、今日の午後はこの適応を実施

適応を完了、とても疲れた。

自分のArchをいじり続け、マシンセットアップのいくつかの手順を記録し、自動化の一部としようと試みる。

### 2020-06-12

今日のタスクはHDMAPMDK-1199を完了すること。以前この問題を忘れていた。

結果、夜8時にようやく完了

### 2020-06-13

非常にのんびりした一日、テスト提出後はずっと自分の自動化スクリプトをいじっていた

最初はshellで書こうと思ったが、shellがあまり好きではないので、schemeをいじり始めた。本当に楽しい。

### 2020-06-15

うわ、今3時なのに私はほぼ一日サボっていた。様々なscheme関連のサイトを閲覧していただけ。こんなことしてはいけない。

今日はHDMAPMDK-1378を完了しなければならない。つまり私たちがずっとやりたくなかった、交差点内部にいわゆるlane mark directionを追加すること。しかし交差点内の道路にはlane markがないのに、lane mark directionなどあるはずがない

ああ、とても辛い。紆余曲折を経て、深夜までかかった

### 2020-06-16

今日は来てからずっとレビュー、修正が必要なものはまだ多く、また少しやる気をなくし始めた感じがする。結果、なんとか完了し、その後寛哥がさらにいくつかのバグをテストで発見。

午後、瀟哥が去ることを知り、長い間驚き続けた。

夜、schemeを少しいじり、カスタムライブラリのコンパイルと参照を完了。

### 2020-06-17

今日の主な仕事は前回のイテレーションの締めくくり作業、つまりバグ修正。

### 2020-06-18

今日までに、ようやく前回のイテレーションのことを完了する。

私の全体的な感覚は非常に良くない。理由は、やっていることの意義が明確でなく、実際にはほとんど意味がないと言えるかもしれないから。

では、ここで私が意義をどう定義するか？

現在の仕事に対する私の意義は、重要性が高い順に

1. 問題提起能力、価値ある有意義な問題を発見できること
2. 問題をモデル化する能力を蓄積し、将来より多くの様々なタイプの問題を解決できるようにすること
3. 問題をモデル化し、一回限りの努力でこのモデルが記述する一連の問題を解決するような解決策を可能にすること。
4. 私の努力を通じて、具体的で有意義な問題を解決できること。この中で、一つの問題を一回で解決する意義は、一連の複数の問題を解決するための一つの努力を払うことには及ばない。
5. 喜びを保つこと、問題解決の達成感、問題自体の面白さ。
6. 人との交流と関係
7. 給与（これは保障であり、重要でないという意味ではなく、残りの部分はこれの上に築かれるべき）

おそらく私の仕事の動機の全てを含んでいないが、少なくとも事実の一部を反映している。

今日私が落胆している理由は、主に面白さの喪失だと思う。まず、問題自体の意義が私にとって明確でない。これが人のやる気を少し損なう。第二に、この種の問題のモデル化が十分に正確でないため、解決手段が全ての問題を解決できない（もちろん全ての問題を解決できるモデルはほとんど存在しない。モデル自体が問題の簡略化と抽象化だからだ。ここでは許容範囲内の問題を解決できるかどうかを議論する）ことによる繰り返し。具体的には、QA担当者が次々と報告するバグ。その中には、要件理解が不十分なものや、そもそもテスト自体の問題もあるが、問題分析自体に費やす時間が、問題解決全体のプロセスで最も時間のかかる部分を占めている。

時には問題認識が不十分だと、解決策が本質的でなくなり、人が無駄な努力に時間を費やすことになり、上記の意義の3,4,5点が満たされず、私を落胆させることになる。

次に考慮すべき点は、現時点まで私は前回のイテレーションで解決すべき問題を解決してきただけで、このイテレーションでやるべきことには全く着手していない。これによりこのイテレーションの時間が圧迫され、おそらく後続のイテレーションにも影響が伝播する。これは非常に起こるべきでない悪循環で、さらに深遠に人と人の関係に影響を与えると考えると、さらに起こるべきでないと感じる。

そのため明日からは、何かをする前にその様々な側面を考慮し、それから問題を解決するようにすべきだ。

ここ十数日間の作業を振り返ると、仕事の進捗は完全に足踏み状態。北京に来たばかりの月曜日、つまり6月8日に、私は`次に仕事について、この期間は納品が忙しかった。主にTLM(typed lane model)のリファクタリング。今回は目標を明確にし、自分をコントロールし、衝動的にリファクタリングせず、戦略的に、自分の進捗を管理する。`と述べた。

現時点で良い点は、毎日自分のしたことを記録していることだと思う。時には簡略で、翌日に補足することもあるが、継続的な記録こそが変革の種を生むと信じる。

また、以前見た非常に理にかなっていると思う言葉を補足する：

> 数年前、ニューヨークで最初の家を買った時、ある不動産仲介業者がとても道理にかなったことを言った。「この家は大規模な修理が必要で、徹底的な大規模修理だ。この65年歴史のある家には絶対的な価値上昇の可能性がある。今、修理が必要なもの全てをリストアップし、六ヶ月以内に全てを片付けなければならない。必ず六ヶ月以内に問題を解決しろ。」<br>「あなたは正気か？頭金、税金、弁護士費用を支払った後、もうお金がない。それに私はとても自制心が強く、五年かけてゆっくり全てを修理できる。」<br>彼女は言った。「いいえ、あなたはできない。なぜなら六ヶ月後には、あなたは今の状況に慣れてしまうから。全てがうまくいっていると感じるだろう。リビングに死体があっても、平然と跨いでいくだろう。」<br>今でもこの言葉を覚えている。驚くべきことに、全て彼女の言う通りになった。間違っていたのは私で、六ヶ月以内に片付けなかったものは、五年後に家を売る時もまだ修理されていなかった。

これはあまりにも現実的だ。警戒し、注意しなければならない。

### 2020-06-19

今日はとても重要なことが起こった。梁瀟と一緒に昼食を食べた。しっかり整理する必要がある。

### 2020-06-22

非常にやる気がなくなり、ずっとバグを分析し、最後に子良の小さな問題だと判明、夜9時に退社

### 2020-06-23

信じられない！今は夜19:00、今日私は何もしていない。

つまり今日は一日サボっていた。ずっとネットで様々なサイトを閲覧し、今になって仕事を思い出し、少し後ろめたい。原因を考えてみると、おそらく金曜日に起こったことのためかもしれないし、明後日が端午節の休みだからかもしれない。しかし根本的にこのようにするのは良くない。たとえ去ることを決めても、職務を怠ってはいけない。毎日真剣に仕事に向き合い、問題を解決するために心を込めるべきだ。時間をかけるという意味ではなく、心を込めて問題を解決するということ。去るならなおさらそうすべきだ。

ああ、今私の心は罪悪感でいっぱいだ。

最近やるべきことはTLMのリファクタリングで、データ構造を超小型のlayerデータ構造に分割する、非常に煩雑な作業。難しくはないが、理念に同意できない（超小型のデータ構造に分割することが良い設計だとは思わない。小さなデータ構造に分割する利点は、柔軟で変更しやすいこと）

### 2020-06-24

休暇前の最終日、当然のようにサボり始め、やるべきリファクタリング作業を少し進める。

### 2020-06-28

休暇終了！

今は心構えを正し、正しい心構えで仕事に臨む。正しい心構えとは何か、以下で定義を試みる。

水曜の夜は大雨で、雨が止んだ後、Sophie先輩と電話した。テーマは私が逃げ出したいということ。

彼女は最初、焦らないで、非常に長い時間軸で自分の仕事人生を見る必要があると言った。例えば人は70歳まで働くかもしれない（私はも