---
"title": "GFS 論文ノート"
"summary": "本稿は、分散ファイルシステム GFS のコア設計をまとめたものです。GFS は、安価なハードウェアで構成され、部分的な障害が日常的に発生するクラスタ環境向けに設計されており、主に大容量ファイルの保存と管理、および追記を中心としたファイル操作に最適化されています。その設計は特定のアプリケーションシナリオを考慮しており、大量のストリーミング読み取りと少量のランダム読み取りをサポートし、複数のクライアントによる同一ファイルへの並列書き込みを最適化しています。また、本稿では、マシン障害のモデル化、大容量ファイル管理の最適化、読み書きワークロードの特性など、GFS の設計前提についても概説します。"
"tags":
  - "GFS"
  - "分散システム"
  - "ファイルシステム"
  - "論文ノート"
  - "技術"
"date": "2020-10-29"
---

GFS は、以下の四つの特徴を持つ分散ファイルシステムです。

1.  **マシン障害をモデル化** - GFS は大量の安価なハードウェアで構成されるクラスタ上で動作するため、様々な理由で部分的な障害が発生します。
2.  **保存されるファイルは大きい** - (2003 年当時の基準で) 数 GB の大容量ファイルが一般的であるため、I/O 操作とブロックサイズはこれを考慮して設計されています。
3.  **ファイル操作は追記が中心** - これが主な最適化の対象です。
4.  **ファイルシステムの設計はアプリケーションの利用シーンを考慮** - 柔軟性が大幅に向上しており、これはクローズドシステムの利点と言えます。

## 設計概要

### 前提条件

-   部分的な障害は日常的である - 監視、検査、エラー許容、自己修復性が必要です。
-   大容量ファイルが一般的である - 主に大容量ファイルの管理を最適化します。
-   読み取りワークロードは主に以下の二種類です
    -   大量のストリーミング読み取り - 1MB 程度を継続的に読み取ります。
    -   少量のランダム読み取り - 数 KB 程度ですが、アプリケーションは実際にはランダム読み取りを許容しません。
-   書き込みワークロードは主に大量のシーケンシャル書き込みであり、読み取り操作と同様に、変更は稀であるため最適化の対象外とします。
-   複数のクライアントによる同一ファイルへの並列書き込みを最適化 - 適切な原子性操作によって実現します。