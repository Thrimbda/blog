---
"title": "Zolaブログ リアルタイム編集とバックエンドソリューション設計 タスクリスト"
"summary": "このドキュメントは、ZolaブログにWYSIWYG MarkdownリアルタイムエディターとSupabase/GitHubバックエンドソリューションを統合するための設計タスクリストです。ドキュメントは4つの主要フェーズに分かれています：現状監査と制約、エディター選定調査、バックエンドとデータモデル設計、統合ソリューションの詳細設計と実装計画。各フェーズには具体的なタスクと受け入れ基準が含まれています。現在、すべての設計タスクは完了し、レビュー段階に入っています。また、ドキュメントではMVP（最小実行可能プロダクト）の推奨範囲をリストアップしており、/adminページ、Supabaseテーブル構造、エディター統合、公開フローなどのコア機能、および画像アップロード、バージョン履歴、複数ドキュメント管理などのv2拡張項目が含まれます。最終更新日は2026年01月06日です。"
"tags":
  - "Zola"
  - "Markdown"
  - "WYSIWYG"
  - "Supabase"
  - "GitHub"
  - "リアルタイム編集"
  - "ブログ"
  - "タスクリスト"
"date": "2026-01-06"
---

# Zola ブログ：WYSIWYG Markdown リアルタイム編集 + Supabase/GitHub バックエンドソリューション設計 - タスクリスト

## クイックリカバリー

**現在のフェーズ**: 完了（レビュー待ち）
**現在のタスク**: あなたのレビュー待ち：編集範囲/リアルタイムの意味/公開リンク/認証/画像戦略の確認（`plan.md` 参照）
**進捗**: 8/8 タスク完了（設計ドキュメント準備完了）

---

## フェーズ 1: 現状監査と制約 ✅ 完了

- [x] 既存のテーマ/CSS変数、テンプレート構造、JS依存関係、デプロイ方法を監査し、維持すべきデザイン言語と技術的制約を明確化する。 | 受け入れ基準: `context.md` に既存アーキテクチャ、CSSトークン/変数、再利用可能なコンポーネント/ページエントリーポイント、および破壊すべきでない点を記録する。
- [x] 「リアルタイム編集」の意味（リアルタイムプレビュー/自動保存/マルチユーザー協働）を明確化し、レビューが必要な問題をリストアップする。 | 受け入れ基準: `plan.md` に未解決の問題とデフォルトの仮定をリストアップする。

---

## フェーズ 2: エディター選定調査 ✅ 完了

- [x] 埋め込み可能なWYSIWYG Markdownエディター（ビルド不要/純粋なJSソリューション + Reactソリューションをそれぞれ1-2個）をオンラインで調査し、機能、サイズ、カスタマイズ/テーマ設定能力、画像アップロードフック、ライセンス、統合の複雑さを比較する。 | 受け入れ基準: `context.md` に比較表と推奨候補（リンク付き）を記述し、検証が必要/不確実な点を注記する。
- [x] 既存のsuCSS+CSS変数スタイルと一貫性のあるUI/テーマ適応戦略を提示する（新しいデザインシステムを導入しない、または最小限に抑える）。 | 受け入れ基準: `plan.md` にテーマ適応戦略と主要な実装ポイント（CSS変数マッピング、ダークモード、ボタン/フォームスタイル）を提示する。

---

## フェーズ 3: バックエンドとデータモデル設計 ✅ 完了

- [x] Supabaseソリューションを設計する：Auth、RLS、テーブル構造、オブジェクトストレージ（画像）、フロントエンド直接接続方式。同時にGitHub Issue/Discussionソリューションを提示する：認証、権限、書き込み、同期戦略。 | 受け入れ基準: `context.md` に2つのソリューションのデータフロー、権限モデル、脅威ポイント、トレードオフの推奨事項を記述する。
- [x] 「編集結果」から「サイトコンテンツ」への公開/同期パスを定義する（手動バックエンドは作成しない）：例、GitHub Actionsによる同期、クライアントからのPR提出、または単なる下書きライブラリ。 | 受け入れ基準: `plan.md` に推奨パス、代替パス、およびそれぞれの操作フローを明確化する。

---

## フェーズ 4: 統合ソリューション詳細設計と実装計画 ✅ 完了

- [x] 最終推奨のエンドツーエンド設計を出力する：ページエントリーポイント(`/admin`)、ルーティング/権限、エディター設定、保存/公開フロー、失敗時の回復、バージョン履歴（オプション）。 | 受け入れ基準: `plan.md` に実行可能なステップバイステップの実装計画（ファイル/ディレクトリレベル）を提示し、レビューが必要な重要な意思決定点を明示する。
- [x] 最小実行可能（MVP）範囲と今後の拡張項目（画像管理、下書き/公開、ロールバック、マルチユーザー協働など）をリストアップする。 | 受け入れ基準: `tasks.md` にチェックリスト形式でMVPとv2拡張項目を提示する。

---

## 発見された新規タスク

（現在なし）

---

## MVP（推奨範囲）

- [ ] `/admin` ページ：`reset.css`/`suCSS.css`/`style.css` を再利用し、既存のライト/ダーク切り替えを統合する（スタイルの一貫性を維持）。
- [ ] Supabase：`documents` テーブル + RLS（単一ユーザー許可リスト）を作成する。
- [ ] エディター：Vditorを統合（優先：IR/ソースモードをフォールバックとして）、「開く→編集→自動保存（デバウンス）」を実装する。
- [ ] Front matter 保護：フロントエンドでfront matterと本文を分割して保存/編集する（WYSIWYGによる書き換えを防ぐ）。
- [ ] 公開ボタン：`published_at`（またはboolean）を書き込み、「下書き/公開済み」を区別するために使用する。
- [ ] GitHub Actions：Supabaseから`published`ドキュメントを取得し、`content/**`に同期書き込みして`master`にコミットし、サイトデプロイをトリガーする。
- [ ] 競合戦略：デフォルトでSupabaseを真のソースとする。リポジトリの手動変更が検出された場合はフェイルファストし、手動処理を促す。

## v2（拡張項目）

- [ ] 画像アップロード：Supabase Storageに接続（ドラッグ&ドロップ/貼り付けアップロード）、外部リンクMarkdownを自動挿入。
- [ ] バージョン履歴：`document_revisions` テーブル（差分/ロールバック）、またはGitコミットにロールバックポイントを保持。
- [ ] ローカルプレビュー一貫性：`/admin`内で「Zolaレンダリングルールに基づくプレビュー」ヒントを提供する（少なくとも：コードハイライト、mermaid、ショートコードをそのまま表示）。
- [ ] 複数ドキュメント管理：`content/**`ツリーに基づく閲覧/検索/タグ付け。
- [ ] 権限拡張：マルチユーザー（協力者）と監査ログ。
- [ ] 公開フロー拡張：直接pushではなくPRを生成し、レビューを容易にする。

---

*最終更新: 2026-01-06 20:33*