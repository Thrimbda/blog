---
"title": "実習ログ（二）：バックエンドAPI開発とプロジェクト管理のまとめ"
"summary": "本稿は、実習プロジェクトのバックエンドAPIサーバー基本版がほぼ完成した時点でのまとめログです。プロジェクト「Seed」（WeChatミニプログラムを主軸とした目標管理システム）の設計思想について詳述し、明確なプロダクトポジショニング、コア機能の定義（ユーザーシステム、目標管理、マルチクライアント互換性など）、およびRESTful APIアーキテクチャの採用について説明しています。実装面では、Springフレームワーク群などの技術スタックの選択と、開発プロセスにおけるテスト戦略を紹介しています。さらに、プロジェクトマネージャーとしての進捗管理、人員配分、技術トレーニングにおける不足点を振り返り、ソフトウェアエンジニアに求められるシステムアーキテクチャ能力と具体的なアルゴリズム実装能力のバランスについて考察しています。実習は、授業教育を補完する重要な機会であると結論づけています。"
"tags":
  - "実習"
  - "プロジェクト管理"
  - "バックエンド開発"
  - "Springフレームワーク"
  - "WeChatミニプログラム"
  - "RESTful API"
  - "ソフトウェア設計"
  - "個人のまとめ"
"date": "2017-03-12"
---

---
title: 実習ログ（二）
date: 2017-03-12 16:09:19
taxonomies:
  tags:
    - 日常
    - 実習
    - 所感
---

実習も終盤に差し掛かり、バックエンドAPIサーバーの基本版のコーディング作業がほぼ完了しました。ここでまとめておきたいと思います。

プロジェクトチームのリーダーとして、私のソフトウェアプロジェクト管理に関する唯一の知識は、冬休みに一度読んだ『人月の神話』に由来します。今回の実践を通じて、自分がいかに未熟であるかを痛感しました。それでも、少しは学べたと感じています。

<!--more-->

## 設計

2年前、C言語の課題で何も考えずにVisual Studioを開いて作業していた頃と比べ、今の自分には明らかに変化がありました。

~~まず、Visual Studioは久しく開いていません。~~

とにかくこの2年間、純粋にPythonを学んでいた頃の練習、ロボットチームでロボットの上位コンピュータを書いた時の経験、教務処ウェブサイトの教員・学生向けクローラーの作成、あるいは「橙汁」プロジェクトに参加した際のファイル管理ツールの開発など、集中的にコードを書くいくつかの経験を経てきました。最初はもちろん勢い任せでしたが、前後矛盾する苦い経験を重ねるうちに、事前設計の重要性を知ることになりました。設計の扉を開けた後は、その程度の問題です。したがって、今回プロジェクト全体を統括した経験は、非常に有益な練習となりました。

**まず何を作るかを明確にする**ことは、製品を作りたいと考えるチームにとって極めて重要です。**自社製品を定義する**ことは、戦略レベルの問題です。しかし残念ながら、今回は特に面白いアイデアはなく、責任を負う立場として、信頼性が高くシンプルなプロジェクトを真剣に作ることが、私のこの実習への期待でした。

端的に言えば、**WeChatミニプログラムを主な特徴とする従来型のWebアプリケーション**です。具体的には、目標管理システムを作成します。

これは非常に多くの人が手掛けているため、扱う対象のモデリングには多くの成熟したソリューションがあります。プロジェクト指向のWorktile、個人の生活管理向けのWonderList、学生向けのMy Study Life、さらにはAppleの「リマインダー」や、聞いたことはあるが使ったことのないその他のツールなどです。これらのツールの特徴を総合し、古典的でWeChatらしい目標管理システムをまとめ上げました。これが私たちが作る「Seed」です。

### 備えるべき特性

では、「Seed」は何ができるべきでしょうか？

+ シンプルなユーザーシステムを持ち、同期を容易にし、ユーザーの定着率を高める。
+ ユーザーは自由に目標を作成・管理でき、この目標はWorktileの「プロジェクト」に類似する。
+ ユーザーは他人の目標に招待されることができる。
+ 目標は、日常的なチェックイン型（繰り返し）とプロジェクト攻略型（一回限り、マイルストーンを導入可能）に分かれる。
+ メインのフロントエンドはWeChatミニプログラム。
+ その他の潜在的なクライアントにも対応する。

以上から、「Seed」は小さく洗練された実用的なサービスであるべきであり、これはWeChatミニプログラムの本来の目的とも一致します。

ここで「**小さく洗練されている**」という特徴を強調しなければなりません。なぜ小さくシンプルであるべきか？ 第一に、人手と時間が限られているからです。第二に、『人月の神話』で言及されている「**第二システム症候群**」の過ちを避けるためです。つまり、無謀な自信過剰に陥り、プロジェクトに際限なく冗長な機能を追加してしまうことです。これは、特に広告収入がない我々にとって、労多くして益の少ない愚行です。簡単な例を挙げれば、Mac版のThunderとWindows版のThunderで、誰もがシンプルで使いやすいMac版を好むでしょう。

同時に、WeChatミニプログラムとの良好な互換性も必要です。ユーザーがスムーズに使用できるようにするため、ユーザー名としてのメールアドレス認証に加え、WeChatのopenIdをログイン認証情報としてサポートすべきです。

### システムの構造

前述のように、WeChatミニプログラムを主軸とするWebアプリケーションを作成するということは、「Seed」が他のフロントエンドとの互換性を持つ能力~~と野望~~を持つことを意味します。したがって、RESTfulスタイルのAPIが最適な選択となります。フロントエンドとバックエンドが完全に分離され、構造が明確で、消費（利用）しやすいためです。

したがって、「Seed」は、WeChatミニプログラムやその他の潜在的な形態をフロントエンドとし、HTTPプロトコルを通じてバックエンドが提供する「リソース」を消費するシステムとなるべきです。

バックエンドはAPIを通じて、安全で信頼性の高いサービスを提供します。

このためにいくつか学び、HATEOAS（Hypermedia As The Engine Of Application State、超媒体によるアプリケーション状態エンジン）の思想にも触れました。未成熟ではありますが、一つの可能な未来であると考えています。

## 実装

APIサーバーのコーディング作業にのみ参加したため、ここではバックエンドの実装についてのみ述べます。

私は設計を戦略レベル（「道」）に分類し、残りの作業を戦術レベル（「術」）に分類するのが好きです。したがって、どの技術を選び、具体的にシステムをどのように実装するかは、ここに含まれると言えます。

### 技術

実習の要件と、Java言語を適切に使用したいという願望から、バックエンドフレームワークとして`Spring Framework`を採用し、合わせてSpringのエコシステム（いわゆる「Spring全家桶」）を使用しました：

+ Spring Bootをアプリケーションコンテナとして
+ Spring Frameworkでビジネスロジックを実装
+ Spring DataをDAOとして
+ Spring Sessionでセッション管理
+ Spring testでテスト

さらに、Git、TravisCI、Herokuなどのツールを使用して開発体験を向上させました。

### 開発プロセス

以前にも触れましたが、SpringのControllerの記述体験はPythonのFlask Webフレームワークの体験と非常に似ています。もしかするとFlaskはSpringから何らかのインスピレーションを得たのでしょうか？ リソース指向のコントローラークラスは、各リソースごとにServletを書かなければならない従来のJava Webと比べて、はるかにコンパクトだと思います。

Springはテスト駆動開発を推奨していますが、実際にこれを実行するのは容易なことではありません。テストは必ずしも好まれる作業ではないからです。専任者を配置してテストコードを書かせるには、第一に学習コストが高く、第二に人間関係上の問題も生じます。そこで開発中、私は各メンバーが自分で書いたコードのテストを担当するように決めました。最終的に私がコードをレビューすることにしました。

## まとめ

「Seed」自体に関する語るべき部分は以上です。次に、他のことについて話したいと思います。

### 自分自身についてのまとめ

実習で多くを学びましたが、問題点も残っています。

プロジェクトマネージャーとして、私は未熟で申し訳ないほどでした。進捗管理、人員配分、その他の細部の把握において、多くの不足点がありました。

例を挙げると：

- フロントエンド技術に関する知識の不足により、今回のプロジェクトでは最終的にAPIサーバーしか動作しない可能性が高い。
- プロジェクトチームの半数しか実際に参加していない。
- 参加者のトレーニングが抽象的で、忍耐力に欠けていた。

明らかに、私はさらに鍛錬を積む必要があります。しかし同時に、プロジェクトマネージャーと開発者という二つの役割を担ったことは、別の問題についての思考を引き起こしました。

### SEerに求められる二つの能力についての考察

**システム全体のアーキテクチャと統制能力**と、**単一機能を実現するためのアルゴリズムの選択、調整、使用能力**です。

我が校のソフトウェア学部の授業教育は、後者のみに焦点を当てているように思えます。これは特に奇妙なことではありません。なぜなら、アルゴリズムの習熟度は測定しやすく、能力の優劣が明確に現れやすいからです。数学の問題を解くのと同じで、厳密な前提条件と制限の下では、人々の創造性は非常に評価しやすいものです。しかし、この「厳密な前提条件と制限」を適切に設定する能力は重要であるにもかかわらず、測定が困難です。

なぜ自己矛盾と言うのか、簡単で分かりやすい（ただし完全に適切とは言えないかも知れない）例を挙げます。多くの親が、学業に支障をきたすことを理由に子供の早恋を厳しく禁じながら、卒業後すぐに家庭を築くことを期待する考え方は、幼稚で非現実的であると誰もが知っています。そして、**単に**優れた学業成績だけを持っている学生が、卒業後に万能の才を持つことを暗黙のうちに期待することも、やや歪んだ考え方です。この二つの状況の違いは、後者の矛盾が前者ほど鋭くないことです。

このような実習は、確かに授業教育の不足を補うために行われたものであり、教育手段としての**成績**と、教育目標としての**能力**という二つの記号が表すものの間の矛盾を回避する機会になり得ると考えています。