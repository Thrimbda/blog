---
title: 2020-04 工作日志
date: 2020-04-01
taxonomies:
  tags:
    - 工作日志
    - 月度总结
    - 技术
---

### 2020-04-13
- 完成了绩效自评
- 对于Lane Center Aggregation的修订

### 2020-04-14
- [ ] 限速编译
- [ ] 自定义限速

### 2020-04-15
- 确定自定义限速方案 @guangcong
  1. 使用新的module-dynamicEvent来解决这个问题
  2. 自定义限速更新作为一种新的事件发布触发horizon data的更新
  3. 需要考虑异常判断和内存问题
  和广聪讨论之后，广聪遇到一些问题
- 晓康review
  Java作为一种solid的语言还是很有东西的
- 限速编译
  基本没什么进展，增加了抽取RoadCenterTile的逻辑
- Sectioning问题解决，分析edgeLifting优化方案，提出优化算法：
  给定traverse头和connectivity函数，遍历方式给出
- 研究自执行Jar的原理

### 2020-04-16
- 跟逸铭对清楚custom speed limit的接口：他保证输入的location pair一定可以确定一个唯一最短route
  回来后跟广聪梳理生成custom speed limit的算法
  1. 给定route
  2. 已知| start DiRoadOnPath::count - end DiRoadOnPath::count | ≤ 1
  则一定可以求得一对( start DiRoadOnPath, end DiRoadOnPath)使得其距离最短
- 给晓康临时发布一个可用的pylon-v0.1.1编译器快照版本
- 跟汉腾下楼乱逛吹牛逼
- 跟梓哲一诚对清楚SUMO地图使用接口
- speed Limit编译成功但还没有验证

### 2020-04-17
- SpeedLimit编译验证：
  OSMSerializable不太行，因为为绑定后的SpeedLimit没有geometry
  可能会有问题：匝道汇入时限速绑定会出现问题
- [ ] 插值
- [ ] 霍斯多夫距离
- [ ] LcInJunctionTile

#### 一些奇思妙想
- 直接上spark？
- OSM的Context需要什么

### 2020-04-18
完成了限速

### 2020-04-20
#### 自定义限速
- 广聪将输入变成了一个vector，添加了测试
- 一个小问题就是，广聪并不真正了解c++指针的作用原理
- [ ] 也许尝试解决一下[https://github.com/scalameta/scalafmt/issues/337](https://github.com/scalameta/scalafmt/issues/337)？
- [ ] 把大叔共享的文件做成匿名分享通过resillo sync

#### RoadBorder修复
发现是自己做了错误的假设，在rc中记录的lc和rb信息可能存在：
1. lc只有一个，因此不能假设lc一定有至少两个
2. 某一边的rb可能不存在，因此不能假设rb一定存在

### 2020-04-21
#### RoadBorder修复
- 完成了测试用例的迁移
- 完善了Dune，以及其ReadMe使得它可以直接输出测试数据
和威宇聊了一下，展望未来，我专注于编译系统

#### 对向车道POI绑定
- 对multidigitize之后的数据进行 binding

### 2020-04-22
#### 对向车道POI绑定
- 对multidigitize之后的数据进行 binding
- 构造测试数据

### 2020-04-23
- 完成了对象车道POI绑定并debug结束[4]

### 2020-04-27
今天主要是以下事项

#### 完成同步mdm proto和mdm spec
1. 和林楠一起修改了若感触mdm spec中表述错误的部分
2. 留下了若干我和林楠不能独自决定的遗留项
3. 在 2020-04-26 晨会上决定将最麻烦的LaneSplitMerge和Polyline延后修改
4. 完成了proto的修改
5. 完成了nexus的修改
6. 完成了mdk的修改
7. 顺便还修复了一个测试数据的问题（疯狂报数据错误）

#### bug修复
临近430发版，bug数量激增

[HDMAPMDK-1111](https://jira.momenta.works/browse/HDMAPMDK-1111) 分析完毕

- [ ] 自动复制测试用例脚本
- [ ] 导出apple reminder

### 2020-04-28
考了科一用了半天时间

HDMAPMDK-1130 宽度问题，三个问题
1. spec规定在变道时候没有车道宽度
2. intersecion线太长导致的split line

HDMAPMDK-1121重新修复

状态极差

### 2020-04-29
#### bugfix
- HDMAPMDK-1143
  RoadObstacle没有编译的问题
- HDMAPMDK-1090