---
"title": "2026年作業ログ：AIエージェント連携とシステム開発実践"
"summary": "本稿は2026年1月の作業ログであり、著者が日々の作業内容、考え、計画を詳細に記録しています。中核は、AIエージェント（特にマルチエージェントシステム）を活用して個人の作業効率とシステムの自律性を向上させる方法にあります。ログには、opencode-feishu-notifierのリファクタリング、legionmind-github-bridgeの開発、multi-agentテンプレートの設計、クラスタセキュリティ移行（NAT設定など）、Yuanのhttp proxyメカニズムの実装など、複数の技術的実践が含まれています。著者は、意図の整合、階層的検証、ナレッジベース構築、エージェント評価方法など、AIとの連携における重要な問題を考察し、AI連携におけるウォーターフロー開発モデルの適用性についても探求しています。ログには、友人訪問や健康管理などの個人的な出来事、および感情管理に関する考察も織り交ぜられています。"
"tags":
  - "作業ログ"
  - "AIエージェント"
  - "マルチエージェントシステム"
  - "システム開発"
  - "クラスタセキュリティ"
  - "効率化"
  - "自動化"
  - "個人管理"
"date": "2026-01-01"
---

# 目次

1.  [2026](#org7a37329)
    1.  [2026-01 1月](#orgdf95c10)
        1.  [2026-01-22](#org46a8ace)
            1.  [本日の作業：](#org4842a30)
            2.  [考えたこと：](#orgd3c2dea)
            3.  [明日の予定は？](#orgfac9005)
        2.  [2026-01-23](#org53cf87b)
            1.  [本日の作業：](#org420a748)
            2.  [考えたこと：](#org003bc35)
            3.  [明日の予定は？](#org50de801)
        3.  [2026-01-24](#org5af0a91)
            1.  [本日の作業：](#org69bd02c)
            2.  [考えたこと：](#org1f09dca)
            3.  [明日の予定は？](#org8a10f91)
        4.  [2026-01-25](#org1d94cd3)
            1.  [本日の作業：](#org1ca275c)
            2.  [考えたこと：](#org48ae323)
            3.  [明日の予定は？](#org7111e30)
        5.  [2026-01-26](#org43faf05)
            1.  [本日の作業：](#org8efa648)
            2.  [考えたこと：](#orga5425d1)
            3.  [明日の予定は？](#orge845cbe)
        6.  [2026-01-27](#org3411989)

<a id="org7a37329"></a>

# 2026

<a id="orgdf95c10"></a>

## 2026-01 1月

<a id="org46a8ace"></a>

### 2026-01-22

<a id="org4842a30"></a>

#### 本日の作業：

1.  opencode-feishu-notifierをリファクタリングしました。これで、決められた方法でユーザーに通知を送信するようになりました。
2.  AIにlegionmind-github-bridgeの開発を続けさせました。opencodeのmulti-agentモードを使い始め、5つのエージェントを起動して5つの問題を修正させました。一人で2時間もがりがり動かし、5時間分のcodexトークンを消費し尽くしました。
3.  今日、sgクラスタのノードが1台ダウンしました。ログを見ると、継続的なSSH試行攻撃を受けていたようです。これは良くありません。簡単に調査し、いくつかの対策案を考えました：
    - パスワード認証を無効化する
    - インターネット全体に対するsshdチャネルを無効化する
    - クラスタをNATの背後に移動する
4.  雑務を処理しました。zlが来週蘇州に来るので、いくつか手配に時間を費やしましたが、あまり順調ではありませんでした。この件にはこれ以上気力を注がないことにします。

<a id="orgd3c2dea"></a>

#### 考えたこと：

現段階では、同時に2〜3つの事柄しかスケジュールできません。開発作業、日常の手配、思考とアウトプットを含みます。これを超えるとスケジュールが追いつかず、疲労を感じやすくなります。これは、既にできる限り作業をAIエージェントに任せている状況です。したがって、以下の2点の改善方向があると考えます：

- コーディングタスクについては、エージェントの自律性を可能な限り高めるべきです。最適化目標は以下の通りです：
  1.  私への干渉をできるだけ少なくする
  2.  できるだけ多くの作業をこなす
  3.  作業の信頼性を可能な限り向上させる
- 私自身も以下の点で向上させる必要があります：
  1.  メンタルエネルギーを管理し、急速に疲弊しないようにする
  2.  複数の異なるコンテキストで同時に作業する能力を高め、抜け漏れや忘れ物をなくし、進捗管理を行う

上記の考察に基づき、明日は以下の2つの方向で試行できると考えます：

1.  legionmind用のマルチエージェントテンプレートを設計し、opencodeを通じてYuanの何らかのコーディングタスクで実験する
2.  作業ログの記録を続け、メンタルエネルギーとコンテキスト管理の方法を模索する。

<a id="orgfac9005"></a>

#### 明日の予定は？

1.  前述の通り、マルチエージェントの実験を行う
2.  legionmind-github-bridgeを続ける
3.  時間があれば、クラスタのセキュリティ対策を行う

&#x2014;

全体的に、現在の主軸はAIを使って自分自身をスケールさせ、その後、他者をスケールさせることを試みることです。

<a id="org53cf87b"></a>

### 2026-01-23

今日は少し風邪気味で、頭痛があり、生産性が低いです。しかし、毎日の振り返りを始めたことを嬉しく思います。

<a id="org420a748"></a>

#### 本日の作業：

1.  AIの助けを借りて、マルチエージェントシステム一式を設計しました。このシステムはまだ体系的な磨きがかけられていません。
2.  legionmind-github-bridgeがまた一歩前進しました。
3.  node-unitのプリエンプション設計と実装を修正しました。以前は、あるnode-unitがfailed状態になった時、その配下のすべてのdeploymentがクリアされていましたが、現在は一つずつクリアするようになりました。
4.  先物証券会社の中国金融先物取引所（CFFEX）の口座開設試験を受けました。なんと、カメラを常時オンにし、最小化や画面切り替えが禁止されていました。幸い、無制限に再試行できたので、私には難しくありませんでした。95点の高得点で合格しました。

<a id="org003bc35"></a>

#### 考えたこと：

私の目標は、できるだけ少ない摩擦でエージェントの自律性を実現することです。現在の私のワークフローは以下の通りです：

1.  legionmindは開発作業のSOPとして機能し、それはエージェントスキルです。私はエージェントスキルが好きです。
2.  opencodeはエージェントの実体として機能し、私はそのbash / tool calling / langraph / command / subagentなどの機能を使用しています。もし将来opencodeを捨てる日が来たら、これらが私の実装待ちリストになります。
3.  現在少し頭痛の種なのは、スキルとこれらのサブエージェントをどのように組み合わせるかです。

一日中頭痛がして、夜になってようやく少し頭がすっきりしました。一日の終わりにこれらの考えを書くのは良い方法ではないかもしれないと気づきました。おそらく事実だけを記録し、明日の朝起きてから考えをまとめるべきでしょう。

<a id="org50de801"></a>

#### 明日の予定は？

1.  このマルチエージェントシステムを何かに活用する。gateの資産管理口座を接続してみよう。
2.  legionmind-github-bridgeを続ける
3.  クラスタのセキュリティ対策（時間があれば）
4.  作業時間の計測を再開する。（重要）
5.  明日syの友人が来客する予定なので、作業時間が奪われるかもしれません

<a id="org5af0a91"></a>

### 2026-01-24

今日は11時までぐっすり寝て、とてもリフレッシュしました。久しぶりにこんなに思い切り寝ました。

<a id="org69bd02c"></a>

#### 本日の作業：

1.  node-unitの新バージョンをリリースしました。比較的安心してリリースできたのは、詳細なエンドツーエンドテストがあったからです。具体的には、dockerでtimescaledb（postgresql17）を起動し、2つのnode-unitを起動し、データベースに21個の`@yuants/portal`を挿入してテストしました。最終的には半分ずつに収束しました。

    このテストは、所有者のいないdeploymentが大量に出現した時、2つのnode-unitが起動すると、deploymentの奪い合いが観察できることをほぼテストできます。本当に足りない点は、実際にCPU/メモリを占有するワークロードと、node-unitが何らかの理由でダウンするシナリオです。

2.  新しいマルチエージェント版のlegionmindを使って、Yuanにおいてvendor-gateのearn口座から口座フローを出力する問題を解決しました。まずエージェントにlegionを使ってドキュメントを作成させ、以下のように多くのドキュメントを出力しました：

        .legion/tasks/vendor-gate
        ├── context.md
        ├── docs
        │   ├── api-doc.md
        │   ├── pr-body.md
        │   ├── report-walkthrough.md
        │   ├── rfc.md
        │   ├── spec-bench.md
        │   ├── spec-dev.md
        │   ├── spec-obs.md
        │   └── spec-test.md
        ├── plan.md
        └── tasks.md

    まともなワークフローになったと感じます。しかし、私の新しいマルチエージェントシステムと既存のlegionmindのドキュメント作成にはいくつかの衝突があります。各事柄の境界をよく考えるべきです。例えば、各種ドキュメントの書き方の規範は、いくつかの独立したスキルに分けるべきで、legionmindはワークフローの説明であるべきです。各種エージェントは、自分の作業を補助するために、いくつかの小さなスキルをロードできるべきです。

    もう一つの問題点は、最初の作業でエラーを犯し、口座フローを`account-actions-with-credential.ts`に出力してしまったことです。これは、私がvendor-okxを参考にしてearn口座の接続を完了するよう要求したからです。このように要求したのは、現在okxのearn口座のみがaccountとして接続されているからです。しかし、AIはその中にあるいくつかの古い実践も学んでしまいました。現在のexchange接続標準は、すべての口座を`provideExchangeServices`で公開し、`provideAccountActionsWithCredential`を使って口座を接続するのではありません。

    この知識は、新しいAIエージェントには備わっていません。このような知識をどのようにモデル化すべきでしょうか？AIエージェントにこのようなプロジェクトコンテキストを外部脳として提供するにはどうすればよいでしょうか？これは深く考える価値のある問題で、明日はよく考える必要があります。

3.  午後はsyの友人たちをもてなすために料理をし、とても疲れました。明日はまた仕事を続けましょう〜

<a id="org1f09dca"></a>

#### 考えたこと：

- 上記のように、AIエージェントのためにコンパクトな外部脳を設計する方法をよく考える必要があります。最も簡単なのは、一連のAGENT.mdから始めることです。以前試したことがありますが、これらのドキュメント自体をメンテナンスするオーバーヘッドもかなり高いです。ゴミと本当に記録する価値のある経験を区別するのは難しい問題です。現時点では、記憶も他のプロンプトと同様で、エージェント自身が記憶を更新するためのループを持っているだけかもしれません。最も重要なのは、AIエージェントの作業結果をどのように評価するかです。

- 上記に関連して、ある記事がとても興味深いと思いました。今、私の言葉で要約してみます：まず、エージェントの一歩の作業の評価について、この評価は以下のように分類できます：
  1.  静的ツール評価：コンパイラ、リンター、単体テスト、e2eテスト
  2.  モデル評価：別のLLMを使って、私たちが定義したプロンプトに基づいて判断する
  3.  人的評価：私が判断する

  次に、エージェントの体系的な評価には2種類あります：
  1.  能力型：このエージェントは何ができるか？また、通過率が低い可能性があります。例えば、legionを使ってより大きく、より難しいタスクを段階的に実行し、新しい境界を探るような感じです。
  2.  回帰型：以前できた能力をまだ維持できているか？例えば、いくつかのタスクを繰り返しテストし、安定して実現できることを保証する。

  新しい能力が導入された後は、能力型から回帰型に移行すべきです。

  この記事は、`pass@K`と`pass^K`という2つの重要な指標も挙げています。
  - pass@k：k回の試行で少なくとも1回成功する。試行回数が多いほど、少なくとも1回成功する確率が高くなります。適用：「少なくとも1つの利用可能な解を見つける」ことだけを気にする場面
  - pass^k：k回の試行すべてが成功しなければならない。試行回数が多いほど、一貫性を維持するのが難しくなります。適用：ユーザーが毎回信頼性の高いエージェントを期待する場面

  FYI: [この記事を参照](https://medium.com/ai-software-engineer/anthropic-new-guide-shows-how-to-build-quality-ai-agents-without-getting-fooled-29f378ec2609)

- まだ少し精力が足りません。午後少し作業し、夜に料理をしただけで少し疲れを感じました。いつになったらCZのように寝なくても済むようになるのでしょうか？

<a id="org8a10f91"></a>

#### 明日の予定は？

1.  この評価エージェントのモデルについて考え、このマルチエージェントシステムをさらに反復する。
2.  クラスタのセキュリティ問題。必ずやる。
3.  legion-github-bridge

<a id="org1d94cd3"></a>

### 2026-01-25

今日は散髪に行き、帰ってくるとシステムが不安定になっていることに気づきました。結局、ji-geがterminal_idが同じサービスを2つ起動し、互いに奪い合って大問題を引き起こしていたことがわかりました。

<a id="org1ca275c"></a>

#### 本日の作業：

1.  クラスタをNATの背後に移行しようと試みました。もちろん、新しいlegionを使ってこの作業を完了しました。私の操作は以下の通りです：
    - まずkopsクラスタを修正し、新しいVPCを作成しました。172.21.0.0/24と172.21.1.0/24のネットワークセグメントを使用しました。そして、トラフィック出口用にNATを作成しました。

      当初は10.0で始まるネットワークセグメントを使用する予定でしたが、試したところAWSがこのようなCIDRの作成を許可しなかったため、172.21で始まるネットワークセグメントに変更しました。ここには落とし穴があり、クラスタリソースで既存のロードバランサーを対応するVPCに指定する必要があります（元々は暗黙的にデフォルト指定されていましたが、CIDRが増えたので手動で指定する必要があります）。

    - 次に、新しいインスタンスグループを作成し、新しいVPCを指すようにしました。途中、新しいIGにS3権限がないという小さな出来事がありましたが、手動で追加した後、ノードは正常にクラスタに参加しました。
    - 次のステップは、サービスを新しいIGに手動で移行することです。
    - 最後に、既存のIGを削除します。

    完了した後、クラスタの出口トラフィックが1つのIPだけになっていることに気づき、IPレート制限のあるサービスが少し混乱してしまいました。仕方なくロールバックし、次のステップに進む前にhttp proxyのスキルを習得しなければなりませんでした。

2.  マルチエージェントが、midasの純資産を自動更新するスクリプトの実践に使用されました。deepseekががりがり長い間書いていましたが、私はかなり満足しています。ここでの核心的な問題は、設計の初期段階で私が気づかなかったエラーがあると、膨大なトークンと時間の浪費が待っていることです。なぜなら、エージェントの作業はそれほど速くないと感じるからです。

    現在、これらのコーディングエージェントはまだかなり原始的で、ネットワークなどの問題で頻繁に終了したりクラッシュしたりします。真剣な長時間実行作業を完了させるには、SLI（サービスレベル指標）がまだ少し低いです。これはまたチャンスでもあるかもしれません。簡単に考えると、これはソフトウェアエンジニアリングの高可用性などの知識を使って作業する必要があります。

<a id="org48ae323"></a>

#### 考えたこと：

今日は考えが少なく、すべて上記のセクションにインラインで書きました。

<a id="org7111e30"></a>

#### 明日の予定は？

1.  Yuanのhttp proxyメカニズムを設計する。
2.  リリース後、クラスタを再度移行する

<a id="org43faf05"></a>

### 2026-01-26

今日は自制の一日でした。25歳を過ぎてから、感情に対処する能力が明らかに向上したことに気づきました。それは、感情の外側に、明らかに理性がcopilotとして付随していることです。この理性は、感情という巨大な反応炉の中に制御棒を設置します。この制御棒がなければ感情は制御不能になり、自励的な連鎖反応を引き起こし、取り返しのつかない結果をもたらす可能性があります。この制御棒の働きにより、何を言うべきか、何を言うべきでないか、何をすべきか、何をすべきでないか、どの決定をすべきか、どの決定をすべきでないかがわかるようになりました。これは私の中で起こった喜ばしい変化です。

<a id="org8efa648"></a>

#### 本日の作業：

1.  今日はlegionを使って、Yuanのhttp proxyの設計と実装を行いました。使ってみるとかなりスムーズだと感じました。途中、その設計をレビューし、ある点（利用可能なターミナルをどのように選択するか）を修正した後、エージェントに任せて一気に進めました。効果は非常に良かったです。
2.  また、legionを使ってmidasの自動更新も行いました。しかし、AIは常にうまくできず、私の要求を正しく理解できず、`@yuants/protocol`の使い方を正しく理解できませんでした。いくつか疑う方向があります：AIの知能が足りない（deepseekはまだあまり賢くないかもしれない）、レビューが十分に厳密でない、またはドキュメントナレッジベースが十分に厳密でない。
3.  夜中にアラートで起こされました。ホストが原因不明でダウンし、CPU使用率のピークによりホストが自己回復できない状態に入ったようです。ホストのログはひどいもので、私の評価は：アラートは役に立つが、ログはクソ。メモしておきます！

<a id="orga5425d1"></a>

#### 考えたこと：

1.  シャワーを浴びながら、現在の私とAIの連携の最も重要な点について考えました。一つはAIエージェント自身のサービス可用性で、実行中に突然終了したりしないことです。ちなみに、ralph loopも基本的には、荒っぽく再試行を繰り返すことで可用性を高めています。もう一つの点は、私がAIからの出力をどのように受け入れるかです。例えば、部下から上司への報告でさえ、PPTや専門的な中間管理職という「高価な伝声筒」が必要です。AIから人間への報告が、平らなMarkdownやコードだけに限定されるべきでしょうか？AIのレポートは、各項目にアーティファクトへのリンクを貼ることはできないでしょうか？この部分を専門に担当するCitation Agentを作ることはできないでしょうか？

    しかし、現在の私のAIの使い方は、コーディングタスクに集中しているため、比較的限定的です。

2.  なぜ私がすでにマルチエージェントシステムを持っているのに、このシステムが確実に溝に落ちる方向へ向かっているのか、よく考えてみましょう。前述の推測では、主に3つの可能性が挙げられています：
    1.  AI自身の知能レベル
    2.  人間のレビューが十分に厳密でない
    3.  ナレッジベースが十分に詳細でなく、AIが迅速に立ち上がるためのより正確な情報を提供できない

    これらの点をよく考えてみましょう。そのうち1は考える必要がありません。方向2に努力すれば、確かにますます詳細なRFCドキュメントに依存し、後のステップにより正確な方向性を与えることができます。しかし、このような開発方法は、**ウォーターフロー**開発モデルに戻ったかのようです。線形プロセスを通じて作業を完了します：

        要求分析 -> バックエンド設計 -> バックエンド開発 -> フロントエンド開発 -> 結合テスト

    形成要因には、技術的側面と組織・プロセスの側面の2つのレベルがありますが、組織・プロセスの側面が*主要因*です。

    技術的側面は、タスク間に自然な依存関係があることです。例えば、フロントエンドはバックエンドがインターフェースを提供するのを待たなければならず、バックエンドは製品のCRDが書かれるのを待たなければなりません。

    人間の組織として、ウォーターフロー開発モデルには、効率が低い、品質リスクが露呈しにくい、柔軟性が低い、チーム間の対立などの問題があります。一方、私とAIの連携方法としては、効率とチーム間の対立は、AIの世界には自然に存在しません。例えば、私とAIは異なる時間次元に住む実体であり、私の一日はAIにとって一年のように感じられます。効率が低いとトークンが少し余計にかかるかもしれませんが、これは現在私が最も気にしている問題ではありません。私が実際に直面している問題は、要求や事実の理解誤りによる品質リスクであり、柔軟性も低いです。

    AIの能力を最大限に活用し、同時に私自身を最大限に解放する方法を考え出さなければなりません。人間同士が組織する経験に基づけば、私は指揮系統のより上位のノードになり、AIに安心して仕事を任せながら、レールから外れないようにしなければなりません。

    最も重要な2点：
    1.  意図の整合
    2.  階層的検証

    この点については、もう少し深く考える必要があります。もっと使って、味わってみる必要があると感じます。

3.  私は、この「ハンマーを持って釘を探す」状態の悪い面に警戒する必要があります：パス依存、理解よりも出力が大きいこと

<a id="orge845cbe"></a>

#### 明日の予定は？

明日zlが来るので、運動して、食事して、ボードゲームで遊ぶ予定です。

<a id="org3411989"></a>

### 2026-01-27

zlが来ました。情報量が多く、消化する必要があります。ボードゲームで遊びました。惨劇ループです。ルールを理解するのに3時間かかり、最後のシナリオで私が悪役の劇作家を演じた時、このゲームの面白さを感じることができました。最終的には私の完全な勝利でゲームが終了しました。