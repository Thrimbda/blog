---
"title": "実習ログ（二）：バックエンドAPI開発とプロジェクト管理の総括"
"summary": "本稿は、実習プロジェクトの終了間際に筆者が記したログであり、プロジェクトリーダーとしてバックエンドAPIサーバー開発を担当した経験を振り返っています。まず、プロジェクト「Seed」（目標管理システム）の設計理念を説明し、「小さくシンプル」という原則を強調するとともに、WeChatミニプログラムなど複数のフロントエンドをサポートするためRESTful APIアーキテクチャを採用したことを述べています。技術実装では、Springフレームワーク群を開発に採用し、テスト駆動開発の実践にも触れています。筆者は、フロントエンド技術への理解不足やチームメンバーの参加度の不均一など、自身のプロジェクト管理における課題を反省し、ソフトウェアエンジニアに求められるシステムアーキテクチャ能力と具体的な実装能力のバランスについて論じ、実習が教室での教育を補完する重要な機会であったと結論づけています。"
"tags":
  - "実習"
  - "プロジェクト管理"
  - "バックエンド開発"
  - "Springフレームワーク"
  - "RESTful API"
  - "WeChatミニプログラム"
  - "ソフトウェア工学教育"
"date": "2017-03-12"
---

---
title: 実習ログ（二）
date: 2017-03-12 16:09:19
taxonomies:
  tags:
    - 日常
    - 実習
    - 所感
---

実習も終わりに近づき、ここでバックエンドAPIサーバーの基本版のコーディング作業がほぼ完了しました。ここでまとめておきたいと思います。

プロジェクトチームのリーダーとして、私のソフトウェアプロジェクト管理に関する唯一の知識は、冬休みに一度読んだ『人月の神話』に由来するものです。今回の実践を通じて、自分がいかに未熟であるかを痛感しました。それでも、少しは学べたと思っています。

<!--more-->

## 設計

2年前、C言語の課題で何も考えずにVSを開いてコードを書き始めた頃と比べると、今の自分には明らかに変化がありました。

~~まず、VSはもう長いこと開いていません。~~

とにかくこの2年間、私は純粋にPythonを学んでいた頃の練習、ロボットチームでロボットの上位コンピュータを書いた時の経験、教務処ウェブサイトの教員・学生向けクローラーの作成、あるいは「橙汁」プロジェクトに参加した際のファイル管理ツールの開発など、集中的にコードを書くいくつかの経験を経てきました。最初はもちろん勢い任せでしたが、前後矛盾する苦い経験を重ねるうちに、事前設計の重要性を知ることになりました。設計の扉を開けた後は、その程度の問題です。したがって、今回プロジェクト全体を管理した経験は、非常に有益な練習となりました。

**まず何を作るかを明確にする**ことは、製品を作りたいと考えるチームにとって極めて重要です。**自社の製品を定義する**ことは、戦略レベルの問題です。しかし残念ながら、今回は特に面白いアイデアはなく、責任を負う立場として、信頼性が高くシンプルなプロジェクトを真剣に作ることが、私自身のこの実習への期待でした。

要するに、**WeChatミニプログラムを主な特徴とする従来型のWebアプリケーション**です。具体的には、目標管理システムを作ることになりました。

これは非常に多くの人が作っているものなので、直面する事象のモデル化については、多くの成熟したソリューションを見つけることができました。例えば、プロジェクト指向のWorktile、個人の生活管理向けのWonderList、学生向けのMy Study Life、さらにはAppleの「リマインダー」や、聞いたことはあるが使ったことのないその他のツールなどです。これらのツールの特徴を総合し、古典的でWeChatらしい目標管理システムをまとめ上げました。これが、私たちが作ろうとした`Seed`です。

### 備えるべき特性

では、`Seed`は何ができるべきでしょうか？

+ シンプルなユーザーシステムを持ち、同期を容易にし、ユーザーの定着率を高める。
+ ユーザーは自由に目標を作成・管理でき、この目標はWorktileの「プロジェクト」に類似する。
+ ユーザーは他人の目標に招待されることができる。
+ 目標は、日常的なチェックイン型（繰り返し）とプロジェクト達成型（一度限り、マイルストーンを導入可能）に分けられる。
+ 主なフロントエンドはWeChatミニプログラムとする。
+ その他の潜在的なクライアントにも対応する。

以上から、`Seed`は小さくシンプルで実用的なサービスであるべきであり、これはWeChatミニプログラムの本来の目的とも一致します。

ここで「**小さくシンプル**」という特徴を強調しなければなりません。なぜ小さくシンプルにするのでしょうか？ 第一に、人手と時間が限られているからです。第二に、『人月の神話』で言及されている「第二システム症候群」、つまり過剰な自信からプロジェクトに際限なく冗長な機能を追加してしまう過ちを避けるためです。これは、特に広告収入がない私たちにとって、労多くして益の少ない愚かなことです。簡単な例を挙げれば、Mac OS版のThunderとWindows版のThunderでは、誰もがシンプルで使いやすいMac版を好むでしょう。

同時に、WeChatミニプログラムとの良好な互換性も必要です。ユーザーがスムーズに使用できるようにするため、ユーザー名としてメールアドレスをサポートすると同時に、WeChatのopenIdをログイン認証情報としてサポートすべきです。

### システムの構造

先述したように、WeChatミニプログラムを主な特徴とするWebアプリケーションを作るということは、`Seed`が他のフロントエンドにも対応する能力~~と野望~~を持つことを意味します。したがって、RESTfulスタイルのAPIが最良の選択となりました。フロントエンドとバックエンドが完全に分離され、構造が明確で、消費（利用）しやすいからです。

したがって、`Seed`は、WeChatミニプログラムやその他の潜在的な形態をフロントエンドとし、HTTPプロトコルを通じてバックエンドが提供する「リソース」を消費するものとなります。

バックエンドは、APIを通じて安全で信頼性の高いサービスを提供します。

このためにいくつか学び、HATEOAS (Hypermedia As The Engine Of Application State) の思想にも触れました。まだ成熟していませんが、可能性のある未来の一つです。

## 実装

APIサーバーのコーディング作業にしか参加していないため、ここではバックエンドの実装についてのみ述べます。

私は設計を戦略レベル（道）に分類し、残りの作業を戦術レベル（術）に分類するのが好きです。したがって、どの技術を選ぶか、システムを具体的にどのように実装するかは、ここに含まれると考えます。

### 技術

実習の要求と、Java言語を適切に使用したいという願望から、バックエンドフレームワークとして`Spring Framework`を採用し、ついでにSpringファミリーも使用しました：

+ Spring Bootをアプリケーションコンテナとして
+ Spring Frameworkでビジネスロジックを実装
+ Spring DataをDAOとして
+ Spring Sessionでセッション管理
+ Spring testでテスト

さらに、Git、TravisCi、Herokuなどのツールを使用して開発体験を向上させました。

### 開発プロセス

以前にも述べたように、SpringのControllerの作成体験はPythonのFlask Webフレームワークの体験と非常に似ています。もしかするとFlaskはSpringから何らかのインスピレーションを得たのでしょうか？ リソース指向のコントローラークラスは、各リソースごとにServletを書かなければならない従来のJava Webと比べて、はるかにコンパクトだと思います。

Springはテスト駆動開発を推奨していますが、実際にこれを実行するのは容易なことではありません。テストは必ずしも好まれる作業ではないからです。専任者を割り当ててテストコードを書かせようとすると、学習コストが非常に高く、また人間関係上の問題も生じます。そこで開発中、私は各人が自分が書いたコードのテストを担当するように決めました。最終的に私がコードをレビューすることにしました。

## 総括

`Seed`自体に関する語るべき部分はほぼ語り終えました。次に、他のことについて話したいと思います。

### 自己に対する総括

実習では多くのことを学びましたが、まだ問題は残っています。

プロジェクトマネージャーとして、私は全くの未熟者でした。進捗管理、人員配置、その他の細部の把握において、多くの不足点がありました。

例を挙げます：

- フロントエンド技術に関する知識の不足により、今回のプロジェクトでは最終的にAPIサーバーしか動作しない可能性が高い。
- プロジェクトチームの半数しか実際に参加していなかった。
- 参加するメンバーへのトレーニングが抽象的で、忍耐力に欠けていた。

明らかに、私はさらに鍛錬を積む必要があります。しかし同時に、プロジェクトマネージャーと開発者という二つの役割を担ったことは、別の問題についての思考を引き起こしました。

### SEerに求められる二つの能力についての考察

**システム全体のアーキテクチャと管理能力**と、**単一機能を実現するためのアルゴリズムの選択、調整、使用能力**です。

私の所属するソフトウェア学院の授業は、後者のみに焦点を当てているように思えます。これは特に奇妙なことではありません。なぜなら、アルゴリズムの習得度は測定しやすく、能力の優劣が明確に現れやすいからです。数学の問題を解くのと同じで、厳密な前提条件と制限の下では、人々の創造性は非常に評価しやすいものです。しかし、この「厳密な前提条件と制限」を適切に設定する能力は重要であるにもかかわらず、測定が困難です。

なぜ自己矛盾と言うのか、簡単で分かりやすいが必ずしも適切とは言えない例を挙げれば、多くの親が「勉強の邪魔になる」という理由で子供の早恋を厳しく禁じながら、卒業後すぐに家庭を築くことを期待する考え方が、幼稚で非現実的であることは誰もが知っています。そして、**単に**良い学業成績だけを持っている学生が、卒業後万能の才となることを暗黙のうちに期待することも、やや歪んだ考え方です。この二つの状況の違いは、後者の矛盾が前者ほど鋭くない点にあります。

このような実習は、確かに授業教育の不足を補うためのものであり、教育手段としての**成績**と、教育目標としての**能力**という二つの記号が表すものの間の矛盾を回避する機会になり得ると考えます。