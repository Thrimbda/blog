---
"title": "/admin 使用説明（MVP）"
"summary": "このドキュメントでは、/admin 機能の使用方法について詳しく説明します。自前のバックエンドを導入することなく、GitHub OAuth 認証を通じて content/**.md ファイルを編集し、下書きをローカルの IndexedDB に自動保存、そして公開時に Markdown と画像を GitHub リポジトリ（デフォルトではブランチと PR を作成）に書き戻すことを目的としています。設定手順（設定ファイルのコピー、GitHub OAuth App の作成など）と使用フロー（接続・認証、コンテンツ編集、画像挿入、PR 公開など）を含み、コンテンツ管理フローを簡素化したいユーザーに適しています。"
"tags":
  - "admin"
  - "使用説明"
  - "Markdown"
  - "GitHub"
  - "OAuth"
  - "コンテンツ管理"
  - "MVP"
---

# /admin 使用説明（MVP）

## 目的

自前のバックエンドを導入することなく、以下のことを実現します：

- 任意の `content/**.md` ファイルを編集する
- 下書きをローカル（IndexedDB）に自動保存する
- 公開時に Markdown と画像を GitHub リポジトリに書き戻す（デフォルト：ブランチ作成 + PR）

## 設定

1. `static/admin/config.example.js` を `static/admin/config.js` としてコピーします
2. GitHub OAuth App を作成し、`oauthClientId` を入力します
   - Homepage URL: `https://0xc1.space/`
   - Callback URL: `https://0xc1.space/admin/`（device flow では使用しませんが、GitHub のフォームで必要です）

> `config.js` にはシークレットを含めないでください。ここでは `client_id` のみが必要です。
>
> **公開後のサイトでも直接 `/admin/` を使用したい場合**は、`static/admin/config.js` をリポジトリに一緒にコミットしてください（シークレットを含まないため、公開しても問題ありません）。

## 使用方法

1. `/admin/` を開きます
2. 「Connect (Device Flow)」をクリックします
3. ページの指示に従って GitHub でコードを入力し、認証を完了します
4. ファイルリストを更新し、`content/**.md` を読み込みます
5. コンテンツを編集します（下書きは自動的にローカルに保存されます）
6. 画像を挿入します（公開時に `static/images/uploads/...` に書き込まれます）
7. 「Publish (PR)」をクリックして PR を作成し、マージ後にサイトの公開フローをトリガーします