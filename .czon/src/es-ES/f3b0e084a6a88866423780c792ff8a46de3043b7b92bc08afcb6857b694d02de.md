---
"title": "Lista de Tareas de Diseño para la Edición en Tiempo Real del Blog Zola y el Esquema Backend"
"summary": "Este documento es una lista de tareas de diseño para integrar un editor WYSIWYG de Markdown en tiempo real y un esquema backend con Supabase/GitHub en un blog Zola. El documento se divide en cuatro fases principales: Auditoría del Estado Actual y Restricciones, Investigación de Editores, Diseño del Backend y Modelo de Datos, y Diseño Detallado e Plan de Implementación de la Integración, cada una con tareas específicas y criterios de aceptación. Todas las tareas de diseño están completadas y se ha entrado en la fase de revisión. El documento también enumera el alcance sugerido para el MVP (Producto Mínimo Viable), incluyendo funcionalidades clave como la página /admin, estructura de tablas de Supabase, integración del editor, flujo de publicación, etc., así como mejoras para la v2 como carga de imágenes, historial de versiones y gestión de múltiples documentos. Última actualización: 06 de enero de 2026."
"tags":
  - "Zola"
  - "Markdown"
  - "WYSIWYG"
  - "Supabase"
  - "GitHub"
  - "edición en tiempo real"
  - "blog"
  - "lista de tareas"
"date": "2026-01-06"
---

# Blog Zola: Diseño de la Lista de Tareas para la Edición WYSIWYG de Markdown en Tiempo Real + Esquema Backend Supabase/GitHub

## Recuperación Rápida

**Fase actual**: Completada (pendiente de revisión)
**Tarea actual**: Esperando tu revisión: confirmar el alcance de la edición/significado de tiempo real/flujo de publicación/autenticación/estrategia de imágenes (ver `plan.md`)
**Progreso**: 8/8 tareas completadas (documento de diseño listo)

---

## Fase 1: Auditoría del Estado Actual y Restricciones ✅ COMPLETADA

- [x] Auditar el tema actual/variables CSS, estructura de plantillas, dependencias JS y método de despliegue, clarificando las restricciones de diseño y técnicas que deben mantenerse. | Criterio de aceptación: Registrar en `context.md` la arquitectura existente, tokens/variables CSS, componentes/puntos de entrada de página reutilizables y puntos que no deben romperse.
- [x] Clarificar el significado de "edición en tiempo real" (vista previa en tiempo real/guardado automático/colaboración múltiple) y enumerar las preguntas que necesitan tu revisión. | Criterio de aceptación: Enumerar en `plan.md` las preguntas pendientes y las suposiciones por defecto.

---

## Fase 2: Investigación de Editores ✅ COMPLETADA

- [x] Investigar en línea editores WYSIWYG de Markdown integrables (preferiblemente 1-2 soluciones sin construcción/JS puro + 1-2 soluciones React), comparando funcionalidad, tamaño, capacidad de personalización/tematización, ganchos para carga de imágenes, licencia y complejidad de integración. | Criterio de aceptación: Escribir en `context.md` una tabla comparativa y candidatos recomendados (con enlaces), y marcar puntos que necesitan verificación/incertidumbre.
- [x] Proporcionar una estrategia de adaptación de UI/tema coherente con el estilo suCSS+variables CSS existente (sin introducir o minimizando la introducción de un nuevo sistema de diseño). | Criterio de aceptación: Proporcionar en `plan.md` la estrategia de adaptación de tema y puntos clave de implementación (mapeo de variables CSS, modo oscuro, estilo de botones/formularios).

---

## Fase 3: Diseño del Backend y Modelo de Datos ✅ COMPLETADA

- [x] Diseñar el esquema Supabase: Auth, RLS, estructura de tablas, almacenamiento de objetos (imágenes) y método de conexión directa frontend; también proporcionar el esquema GitHub Issue/Discussion: autenticación, permisos, estrategias de escritura y sincronización. | Criterio de aceptación: Escribir en `context.md` el flujo de datos, modelo de permisos, puntos de amenaza y recomendaciones de compromiso para ambos esquemas.
- [x] Definir la ruta de publicación/sincronización desde el "resultado de la edición" hasta el "contenido del sitio" (sin escribir backend manual): por ejemplo, sincronización con GitHub Actions, envío de PR desde el cliente, o solo como repositorio de borradores. | Criterio de aceptación: Clarificar en `plan.md` la ruta recomendada, rutas alternativas y sus respectivos flujos operativos.

---

## Fase 4: Diseño Detallado e Plan de Implementación de la Integración ✅ COMPLETADA

- [x] Producir el diseño final recomendado de extremo a extremo: punto de entrada de página (`/admin`), enrutamiento/permisos, configuración del editor, flujo de guardado/publicación, recuperación de fallos, historial de versiones (opcional). | Criterio de aceptación: Proporcionar en `plan.md` un plan de implementación ejecutable paso a paso (a nivel de archivo/directorio), y marcar los puntos de decisión clave que necesitan tu revisión.
- [x] Enumerar el alcance mínimo viable (MVP) y las mejoras posteriores (gestión de imágenes, borrador/publicación, reversión, colaboración múltiple, etc.). | Criterio de aceptación: Proporcionar en `tasks.md` en forma de lista de verificación el MVP y las mejoras de la v2.

---

## Nuevas Tareas Descubiertas

(Ninguna por ahora)

---

## MVP (Alcance Sugerido)

- [ ] Página `/admin`: Reutilizar `reset.css`/`suCSS.css`/`style.css`, e integrar el interruptor light/dark existente (manteniendo la coherencia de estilo).
- [ ] Supabase: Crear tabla `documents` + RLS (lista de permitidos de un solo usuario).
- [ ] Editor: Integrar Vditor (priorizando el modo IR/código fuente como respaldo), implementar "abrir → editar → guardado automático (debounce)".
- [ ] Protección de Front matter: El frontend separa y almacena/edita el front matter y el cuerpo del texto (evitando que el WYSIWYG lo reescriba).
- [ ] Botón de publicación: Escribir `published_at` (o booleano) para distinguir entre "borrador/publicado".
- [ ] GitHub Actions: Extraer documentos `published` de Supabase, sincronizar escribiendo en `content/**` y confirmar en `master`, activando el despliegue del sitio.
- [ ] Estrategia de conflictos: Por defecto, Supabase es la fuente verdadera; si se detectan cambios manuales en el repositorio, fallar rápidamente y solicitar manejo manual.

## v2 (Mejoras)

- [ ] Carga de imágenes: Conectar con Supabase Storage (carga por arrastrar/pegar), insertar automáticamente enlace externo Markdown.
- [ ] Historial de versiones: Tabla `document_revisions` (diferencias/reversión), o conservar puntos de reversión en los commits de Git.
- [ ] Consistencia de vista previa local: Proporcionar en `/admin` una vista previa "según las reglas de renderizado de Zola" (al menos: resaltado de sintaxis, mermaid, shortcodes mostrados tal cual).
- [ ] Gestión de múltiples documentos: Navegación/búsqueda/etiquetado en árbol según `content/**`.
- [ ] Mejora de permisos: Múltiples usuarios (colaboradores) y registro de auditoría.
- [ ] Mejora del flujo de publicación: Generar PR en lugar de push directo, facilitando la revisión.

---

*Última actualización: 2026-01-06 20:33*