---
"title": "/admin 使用说明（MVP）"
"summary": "本文档详细说明了 /admin 功能的使用方法，旨在帮助用户在不引入自建后端的前提下，通过 GitHub OAuth 授权，编辑
  content/**.md 文件，自动保存草稿到本机 IndexedDB，并在发布时将 Markdown 和图片写回 GitHub 仓库（默认创建分支和
  PR）。文档包括配置步骤（如复制配置文件、创建 GitHub OAuth App）和使用流程（如连接授权、编辑内容、插入图片、发布
  PR），适用于希望简化内容管理流程的用户。"
"tags":
  - "admin"
  - "使用说明"
  - "Markdown"
  - "GitHub"
  - "OAuth"
  - "内容管理"
  - "MVP"
---

# /admin 使用说明（MVP）

## 目标

在不引入自建后端的前提下：

- 编辑任意 `content/**.md`
- 草稿自动保存到本机（IndexedDB）
- 发布时把 Markdown + 图片写回 GitHub repo（默认：创建分支 + PR）

## 配置

1. 复制 `static/admin/config.example.js` 为 `static/admin/config.js`
2. 创建 GitHub OAuth App 并填入 `oauthClientId`
   - Homepage URL: `https://0xc1.space/`
   - Callback URL: `https://0xc1.space/admin/`（device flow 不用，但 GitHub 表单需要）

> `config.js` 不应包含任何 secret；这里只需要 `client_id`。
>
> 如果你希望**发布后的站点也能直接使用 `/admin/`**，请把 `static/admin/config.js` 一起提交到 repo（它不包含 secret，公开也没问题）。

## 使用

1. 打开 `/admin/`
2. 点击 “Connect (Device Flow)”
3. 按页面提示到 GitHub 输入 code 完成授权
4. 刷新文件列表，加载 `content/**.md`
5. 编辑内容（自动保存草稿到本机）
6. 插入图片（会在发布时写到 `static/images/uploads/...`）
7. 点击 “Publish (PR)” 创建 PR，合并后触发站点发布流程
